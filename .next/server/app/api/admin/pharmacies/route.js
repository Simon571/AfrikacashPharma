(()=>{var e={};e.id=1925,e.ids=[1925],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},41464:(e,r,t)=>{"use strict";t.d(r,{FT:()=>c,fq:()=>i,k8:()=>n,nH:()=>o,vv:()=>a,wE:()=>u});let s=[];function n(){return s}function a(e){return s.push(e),e}function o(e,r){let t=s.findIndex(r=>r.id===e);return -1===t?null:(s[t]={...s[t],...r,updatedAt:new Date().toISOString()},s[t])}function i(e){let r=s.findIndex(r=>r.id===e);return -1===r?null:s.splice(r,1)[0]}function u(e){return s.find(r=>r.email===e)}function c(e){return s.find(r=>r.id===e)}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},90296:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>x,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>c,POST:()=>l});var n=t(96559),a=t(48088),o=t(37719),i=t(32190),u=t(41464);async function c(e){try{console.log("\uD83D\uDCCC GET /api/admin/pharmacies");let e=(0,u.k8)();return console.log("✅ Pharmacies retourn\xe9es:",e.length),i.NextResponse.json(e)}catch(e){return console.error("❌ Erreur GET:",e),i.NextResponse.json({error:"Erreur serveur",details:e.message},{status:500})}}async function l(e){try{console.log("\uD83D\uDCCC POST /api/admin/pharmacies");let r=await e.json();console.log("\uD83D\uDCDD Donn\xe9es re\xe7ues:",r);let{name:t,email:s,phone:n,address:a,status:o,trialDaysRemaining:c}=r;if(!t||!s)return console.log("❌ Validation: nom ou email manquant"),i.NextResponse.json({error:"Nom et email requis"},{status:400});if((0,u.wE)(s))return console.log("❌ Email d\xe9j\xe0 utilis\xe9:",s),i.NextResponse.json({error:"Email d\xe9j\xe0 utilis\xe9"},{status:409});let l={id:"pharmacy_"+Date.now(),name:t,email:s,phone:n||"",address:a||"",status:o||"trial",trialDaysRemaining:c||30,createdAt:new Date().toISOString()};return(0,u.vv)(l),console.log("✅ Pharmacie cr\xe9\xe9e:",l.id),i.NextResponse.json(l,{status:201})}catch(e){return console.error("❌ Erreur POST:",e),i.NextResponse.json({error:"Erreur serveur",details:e.message},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/admin/pharmacies/route",pathname:"/api/admin/pharmacies",filename:"route",bundlePath:"app/api/admin/pharmacies/route"},resolvedPagePath:"C:\\Users\\Public\\Documents\\Console Afrikapharma\\app\\api\\admin\\pharmacies\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:m,serverHooks:x}=p;function g(){return(0,o.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:m})}},96487:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[4243,580],()=>t(90296));module.exports=s})();