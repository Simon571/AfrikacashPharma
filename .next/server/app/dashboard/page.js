(()=>{var e={};e.id=5105,e.ids=[5105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6189:(e,t,s)=>{Promise.resolve().then(s.bind(s,82464))},6807:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,86346,23)),Promise.resolve().then(s.t.bind(s,27924,23)),Promise.resolve().then(s.t.bind(s,35656,23)),Promise.resolve().then(s.t.bind(s,40099,23)),Promise.resolve().then(s.t.bind(s,38243,23)),Promise.resolve().then(s.t.bind(s,28827,23)),Promise.resolve().then(s.t.bind(s,62763,23)),Promise.resolve().then(s.t.bind(s,97173,23))},8402:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>n});var r=s(60687),a=s(82136);function n({children:e}){return(0,r.jsx)(a.SessionProvider,{children:e})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17313:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25541:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35046:(e,t,s)=>{Promise.resolve().then(s.bind(s,8402))},41312:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},41862:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},42573:(e,t,s)=>{Promise.resolve().then(s.bind(s,64118))},43294:(e,t,s)=>{Promise.resolve().then(s.bind(s,78972))},46559:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,16444,23)),Promise.resolve().then(s.t.bind(s,16042,23)),Promise.resolve().then(s.t.bind(s,88170,23)),Promise.resolve().then(s.t.bind(s,49477,23)),Promise.resolve().then(s.t.bind(s,29345,23)),Promise.resolve().then(s.t.bind(s,12089,23)),Promise.resolve().then(s.t.bind(s,46577,23)),Promise.resolve().then(s.t.bind(s,31307,23))},58014:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var r=s(37413);s(82704);var a=s(78972);let n={title:"PharmaSuite - Solution de Gestion de Pharmacie",description:"Plateforme g\xe9n\xe9rique et personnalisable pour la gestion de pharmacies"};function l({children:e}){return(0,r.jsx)("html",{lang:"fr",children:(0,r.jsx)("body",{className:"bg-white text-slate-900",children:(0,r.jsx)(a.AuthProvider,{children:e})})})}},62688:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var r=s(43210);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:l,iconNode:c,...x},m)=>(0,r.createElement)("svg",{ref:m,...o,width:t,height:t,stroke:e,strokeWidth:a?24*Number(s)/Number(t):s,className:i("lucide",n),...!l&&!d(x)&&{"aria-hidden":"true"},...x},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),x=(e,t)=>{let s=(0,r.forwardRef)(({className:s,...n},d)=>(0,r.createElement)(c,{ref:d,iconNode:t,className:i(`lucide-${a(l(e))}`,`lucide-${e}`,s),...n}));return s.displayName=l(e),s}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64118:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Public\\\\Documents\\\\Console Afrikapharma\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\Console Afrikapharma\\app\\dashboard\\page.tsx","default")},71858:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=s(65239),a=s(48088),n=s(88170),l=s.n(n),i=s(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,64118)),"C:\\Users\\Public\\Documents\\Console Afrikapharma\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\Users\\Public\\Documents\\Console Afrikapharma\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Public\\Documents\\Console Afrikapharma\\app\\dashboard\\page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},78122:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},78972:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\Console Afrikapharma\\app\\providers.tsx","AuthProvider")},82464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(60687),a=s(43210),n=s(17313),l=s(78122),i=s(41312),d=s(62688);let o=(0,d.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var c=s(25541);let x=(0,d.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,d.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=s(41862);let h=(0,d.A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);var p=s(93613);function g(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(""),[l,i]=(0,a.useState)(!0),[d,x]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[b,y]=(0,a.useState)(0),[v,f]=(0,a.useState)(null),j=async()=>{try{let e=parseFloat(s);if(!e||e<=0)return void f({type:"error",text:"Le taux doit \xeatre un nombre positif"});x(!0);let r=await fetch("/api/exchange-rate",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:e})});if(!r.ok){let e=await r.json();throw Error(e.message||"Erreur lors de la mise \xe0 jour")}let a=await r.json();a.medicationsUpdated&&(y(a.medicationsUpdated),t(e),g(new Date),f({type:"success",text:`Taux mis \xe0 jour! ${a.medicationsUpdated} m\xe9dicaments recalcul\xe9s`}))}catch(e){console.error("Erreur:",e),f({type:"error",text:e.message||"Erreur lors de la mise \xe0 jour"})}finally{x(!1)}},N=e&&parseFloat(s)?parseFloat(s)-e:0,w=e&&0!==N?(N/e*100).toFixed(2):"0";return l?(0,r.jsx)("div",{className:"w-full bg-white rounded-lg border p-6",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,r.jsx)(u.A,{className:"h-6 w-6 animate-spin"})})}):(0,r.jsxs)("div",{className:"w-full bg-white rounded-lg border p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,r.jsx)(o,{className:"h-5 w-5"}),"Taux de Change USD → CDF"]}),(0,r.jsx)("p",{className:"text-gray-600",children:"G\xe9rez le taux de change pour la conversion automatique des prix"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[(0,r.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"Taux Actuel"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-blue-900",children:[e?.toLocaleString()," CDF"]}),(0,r.jsx)("p",{className:"text-xs text-blue-500 mt-2",children:"1 USD"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[(0,r.jsx)("p",{className:"text-sm text-green-600 mb-1",children:"M\xe9dicaments Affect\xe9s"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-900",children:b}),(0,r.jsx)("p",{className:"text-xs text-green-500 mt-2",children:"Convertis avec ce taux"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[(0,r.jsx)("p",{className:"text-sm text-purple-600 mb-1",children:"Derni\xe8re Mise \xe0 Jour"}),(0,r.jsx)("p",{className:"text-sm font-mono text-purple-900",children:m?.toLocaleDateString("fr-FR")}),(0,r.jsx)("p",{className:"text-xs text-purple-500 mt-2",children:m?.toLocaleTimeString("fr-FR")})]})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"newRate",className:"block text-sm font-medium mb-2",children:"Nouveau Taux (CDF/USD)"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{id:"newRate",type:"number",step:"0.01",value:s,onChange:e=>n(e.target.value),placeholder:"Entrez le nouveau taux",disabled:d,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md"}),(0,r.jsxs)("button",{onClick:j,disabled:d||!s,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md flex items-center gap-2",children:[d?(0,r.jsx)(u.A,{className:"h-4 w-4 animate-spin"}):null,"Mettre \xe0 Jour"]})]})]}),0!==N&&(0,r.jsx)("div",{className:"flex items-center gap-2 text-sm",children:N>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"h-4 w-4 text-green-600"}),(0,r.jsxs)("span",{className:"text-green-600",children:["+",N.toFixed(2)," CDF (",w,"%)"]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h,{className:"h-4 w-4 text-red-600"}),(0,r.jsxs)("span",{className:"text-red-600",children:[N.toFixed(2)," CDF (",w,"%)"]})]})})]}),v&&(0,r.jsx)("div",{className:"success"===v.type?"bg-green-50 border border-green-200 p-4 rounded-lg":"bg-red-50 border border-red-200 p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"success"===v.type?"h-4 w-4 text-green-600":"h-4 w-4 text-red-600"}),(0,r.jsx)("p",{className:"success"===v.type?"text-green-800":"text-red-800",children:v.text})]})}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,r.jsx)("strong",{children:"Info:"})," Quand vous mettez \xe0 jour le taux, tous les prix en CDF des produits seront recalcul\xe9s automatiquement en fonction de leurs prix USD de r\xe9f\xe9rence."]})})]})}function b(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)({totalInstances:0,activeInstances:0,totalUsers:0,totalRevenue:0}),[u,h]=(0,a.useState)(!0),[p,b]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[f,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)("all"),[k,C]=(0,a.useState)({name:"",subdomain:"",ownerEmail:"",ownerName:"",planType:"trial"}),A=async()=>{try{h(!0);let e="all"!==N?`?status=${N}`:"",s=await fetch(`/api/admin/instances${e}`),r=await s.json();t(r.instances||[]);let a=r.instances?.length||0,n=r.instances?.filter(e=>"active"===e.status).length||0,l=r.instances?.reduce((e,t)=>e+(t.activeUsers||0),0)||0,i=r.instances?.reduce((e,t)=>e+(t.monthlyRevenue||0),0)||0;d({totalInstances:a,activeInstances:n,totalUsers:l,totalRevenue:i})}catch(e){console.error("Erreur lors du chargement:",e)}finally{h(!1)}},P=async e=>{e.preventDefault();try{j(!0);let e=await fetch("/api/admin/instances",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)}),t=await e.json();e.ok?(console.log("Instance cr\xe9\xe9e:",t),C({name:"",subdomain:"",ownerEmail:"",ownerName:"",planType:"trial"}),b(!1),setTimeout(()=>A(),500),alert("Instance cr\xe9\xe9e avec succ\xe8s!")):(console.error("Erreur API:",t),alert("Erreur: "+(t.error||"Impossible de cr\xe9er l'instance")))}catch(e){console.error("Erreur cr\xe9ation:",e),alert("Erreur r\xe9seau: "+(e instanceof Error?e.message:"Erreur inconnue"))}finally{j(!1)}},S=async e=>{try{await fetch(`/api/admin/instances/${e}/suspend`,{method:"POST"}),A()}catch(e){console.error("Erreur suspend:",e)}},M=async e=>{try{await fetch(`/api/admin/instances/${e}/reactivate`,{method:"POST"}),A()}catch(e){console.error("Erreur r\xe9activation:",e)}},E=async e=>{if(confirm("\xcates-vous s\xfbr de supprimer cette instance?"))try{await fetch(`/api/admin/instances/${e}`,{method:"DELETE"}),A()}catch(e){console.error("Erreur suppression:",e)}},T=e=>({trial:"Trial",monthly:"Mensuel",quarterly:"Trimestriel",annual:"Annuel",lifetime:"Illimit\xe9"})[e]||e,D=e=>{let t={active:"bg-green-100 text-green-800",suspended:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",deleted:"bg-gray-100 text-gray-800"};return(0,r.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t[e]||t.pending}`,children:{active:"Actif",suspended:"Suspendu",pending:"En attente",deleted:"Supprim\xe9"}[e]||e})};return(0,r.jsx)("div",{className:"min-h-screen p-8",style:{backgroundImage:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Tableau de Bord Admin"}),(0,r.jsx)("p",{className:"text-indigo-100",children:"Gestion des instances et performances"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Total Instances"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:s.totalInstances})]}),(0,r.jsx)(n.A,{className:"w-12 h-12 text-indigo-500"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Actives"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-600",children:s.activeInstances})]}),(0,r.jsx)(l.A,{className:"w-12 h-12 text-green-500"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Utilisateurs"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:s.totalUsers})]}),(0,r.jsx)(i.A,{className:"w-12 h-12 text-blue-500"})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Revenu Mensuel"}),(0,r.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["€ ",s.totalRevenue.toLocaleString("fr-FR")]})]}),(0,r.jsx)(o,{className:"w-12 h-12 text-purple-500"})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-lg mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(c.A,{className:"w-8 h-8 text-orange-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Gestion du Taux USD→CDF"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Mettez \xe0 jour le taux de change et les prix"})]})]}),(0,r.jsx)("button",{onClick:()=>v(!0),className:"bg-orange-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-orange-700 transition",children:"Ouvrir"})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-lg mb-6 flex justify-between items-center flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,r.jsx)("button",{onClick:()=>w("all"),className:`px-4 py-2 rounded-lg font-medium transition ${"all"===N?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Toutes"}),(0,r.jsx)("button",{onClick:()=>w("active"),className:`px-4 py-2 rounded-lg font-medium transition ${"active"===N?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Actives"}),(0,r.jsx)("button",{onClick:()=>w("suspended"),className:`px-4 py-2 rounded-lg font-medium transition ${"suspended"===N?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Suspendues"}),(0,r.jsx)("button",{onClick:()=>w("pending"),className:`px-4 py-2 rounded-lg font-medium transition ${"pending"===N?"bg-yellow-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"En attente"})]}),(0,r.jsxs)("button",{onClick:()=>b(!0),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-indigo-700 flex items-center gap-2 transition",children:[(0,r.jsx)(x,{className:"w-5 h-5"}),"Nouvelle Instance"]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:u?(0,r.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Chargement..."}):0===e.length?(0,r.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Aucune instance trouv\xe9e"}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50 border-b",children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Nom"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Propri\xe9taire"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Plan"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Utilisateurs"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Revenu Mensuel"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Commandes"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:e.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.subdomain})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-900",children:e.ownerName||e.ownerEmail}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.ownerEmail})]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.subscription?T(e.subscription.planType):"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4",children:D(e.status)}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.activeUsers||0}),(0,r.jsxs)("td",{className:"px-6 py-4 font-semibold text-gray-900",children:["€ ",(e.monthlyRevenue||0).toLocaleString("fr-FR")]}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-900",children:e.totalOrders||0}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:["active"===e.status&&(0,r.jsx)("button",{onClick:()=>S(e.id),className:"text-red-600 hover:text-red-800 font-medium text-sm transition",children:"Suspendre"}),"suspended"===e.status&&(0,r.jsx)("button",{onClick:()=>M(e.id),className:"text-green-600 hover:text-green-800 font-medium text-sm transition",children:"R\xe9activer"}),(0,r.jsxs)("button",{onClick:()=>E(e.id),className:"text-red-600 hover:text-red-800 font-medium text-sm transition",children:[(0,r.jsx)(m,{className:"w-4 h-4 inline"})," Supprimer"]})]})})]},e.id))})]})})}),p&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Cr\xe9er une Instance"}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),(0,r.jsx)("input",{type:"text",required:!0,value:k.name,onChange:e=>C({...k,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:"Mon Magasin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sous-domaine"}),(0,r.jsx)("input",{type:"text",required:!0,value:k.subdomain,onChange:e=>C({...k,subdomain:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:"monmagasin"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Propri\xe9taire"}),(0,r.jsx)("input",{type:"email",required:!0,value:k.ownerEmail,onChange:e=>C({...k,ownerEmail:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:"owner@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom Propri\xe9taire"}),(0,r.jsx)("input",{type:"text",value:k.ownerName,onChange:e=>C({...k,ownerName:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent",placeholder:"Jean Dupont"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plan"}),(0,r.jsxs)("select",{value:k.planType,onChange:e=>C({...k,planType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-600 focus:border-transparent",children:[(0,r.jsx)("option",{value:"trial",children:"Trial"}),(0,r.jsx)("option",{value:"monthly",children:"Mensuel"}),(0,r.jsx)("option",{value:"quarterly",children:"Trimestriel"}),(0,r.jsx)("option",{value:"annual",children:"Annuel"}),(0,r.jsx)("option",{value:"lifetime",children:"Illimit\xe9"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>b(!1),disabled:f,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Annuler"}),(0,r.jsx)("button",{type:"submit",disabled:f,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Cr\xe9ation..."]}):"Cr\xe9er"})]})]})]})}),y&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestion du Taux USD→CDF"}),(0,r.jsx)("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)(g,{})})]})})]})})}},82704:()=>{},93613:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4243,4278],()=>s(71858));module.exports=r})();