(()=>{var e={};e.id=5266,e.ids=[5266],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{"use strict";e.exports=require("querystring")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26373:(e,r,s)=>{"use strict";s.d(r,{A:()=>x});var t=s(61120);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),n=e=>{let r=i(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim(),c=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:n,iconNode:o,...x},p)=>(0,t.createElement)("svg",{ref:p,...d,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:l("lucide",i),...!n&&!c(x)&&{"aria-hidden":"true"},...x},[...o.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(n)?n:[n]])),x=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...i},c)=>(0,t.createElement)(o,{ref:c,iconNode:r,className:l(`lucide-${a(n(e))}`,`lucide-${e}`,s),...i}));return s.displayName=n(e),s}},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32012:(e,r,s)=>{Promise.resolve().then(s.bind(s,52988))},33873:e=>{"use strict";e.exports=require("path")},34575:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>m,metadata:()=>p});var t=s(37413),a=s(31183),i=s(52988),n=s(78963),l=s(19854),c=s(39916),d=s(26373);let o=(0,d.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),x=(0,d.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),p={title:"Tarifs des M\xe9dicaments | Gestion",description:"Consultez les prix des m\xe9dicaments en USD et CDF avec conversions automatiques"};async function m(){await (0,l.getServerSession)()||(0,c.redirect)("/login");let[e,r]=await Promise.all([a.z.exchangeRate.findUnique({where:{currency:"USD_CDF"}}),a.z.medication.findMany({orderBy:{name:"asc"},select:{id:!0,name:!0,pharmaceuticalForm:!0,priceUsd:!0,price:!0,purchasePriceUsd:!0,purchasePrice:!0,quantity:!0,barcode:!0}})]),s=r.filter(e=>e.priceUsd>0),d=r.filter(e=>0===e.priceUsd);return(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 py-8 px-4",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[(0,t.jsx)(o,{className:"h-8 w-8 text-blue-600"}),"Tarifs des M\xe9dicaments"]}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Affichage des prix en USD et CDF avec taux actuel: ",e?.rate?.toLocaleString()," CDF/USD"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.Wu,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Taux Actuel"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e?.rate?.toLocaleString()," CDF"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Par 1 USD"})]})}),(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.Wu,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Total M\xe9dicaments"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:r.length}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Produits en stock"})]})}),(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.Wu,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Convertis"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:s.length}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Avec prix USD"})]})}),(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.Wu,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"\xc0 Convertir"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:d.length}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Sans prix USD"})]})})]}),s.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-gray-900",children:["✅ M\xe9dicaments Convertis (",s.length,")"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,t.jsxs)(n.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsx)(n.ZB,{className:"text-base",children:e.name}),(0,t.jsxs)(n.BT,{children:[e.pharmaceuticalForm,e.barcode&&` • ${e.barcode}`]})]}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)(i.MedicationPriceDisplay,{medicationId:e.id,name:e.name,priceUsd:e.priceUsd,priceCdf:e.price,purchasePriceUsd:e.purchasePriceUsd||void 0,purchasePriceCdf:e.purchasePrice||void 0}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,t.jsx)("strong",{children:"Stock:"})," ",e.quantity," unit\xe9s"]})})]})]},e.id))})]}),d.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-gray-900 flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-6 w-6 text-orange-600"}),"M\xe9dicaments \xe0 Convertir (",d.length,")"]}),(0,t.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6 mb-6",children:[(0,t.jsx)("p",{className:"text-orange-900 mb-4",children:"Ces m\xe9dicaments n'ont pas de prix USD d\xe9fini. Pour les inclure dans le syst\xe8me de conversion, veuillez ajouter des prix USD via la gestion des stocks."}),(0,t.jsxs)("div",{className:"space-y-2",children:[d.slice(0,10).map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border border-orange-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.pharmaceuticalForm})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-mono text-gray-700",children:[e.price?.toLocaleString()," CDF"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"USD: Non d\xe9fini"})]})]},e.id)),d.length>10&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["... et ",d.length-10," autres"]})]})]})]}),0===r.length&&(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsx)("p",{className:"text-center text-gray-600",children:"Aucun m\xe9dicament trouv\xe9"})})})]})})}},52988:(e,r,s)=>{"use strict";s.d(r,{MedicationPriceDisplay:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call MedicationPriceDisplay() from the server but MedicationPriceDisplay is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Public\\Documents\\Console Afrikapharma\\AfrikaPharma\\src\\components\\MedicationPriceDisplay.tsx","MedicationPriceDisplay")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66366:(e,r,s)=>{"use strict";s.d(r,{MedicationPriceDisplay:()=>n});var t=s(60687),a=s(43210);s(74072);var i=s(41862);function n({medicationId:e,name:r,priceUsd:s,priceCdf:n,purchasePriceUsd:l,purchasePriceCdf:c}){let[d,o]=(0,a.useState)(null),[x,p]=(0,a.useState)(!0);if(x)return(0,t.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,t.jsx)(i.A,{className:"h-4 w-4 animate-spin"})});let m=d?Math.round(s*d*100)/100:n,u=d&&l?Math.round(l*d*100)/100:c;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs text-blue-600 mb-1",children:"Prix USD"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-blue-900",children:["$",s?.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs text-green-600 mb-1",children:"Prix CDF"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-green-900",children:[m?.toLocaleString()," CDF"]})]})]}),l&&c&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs text-purple-600 mb-1",children:"Achat USD"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-purple-900",children:["$",l?.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-xs text-orange-600 mb-1",children:"Achat CDF"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-orange-900",children:[u?.toLocaleString()," CDF"]})]})]}),d&&(0,t.jsx)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded border border-gray-200",children:(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Taux appliqu\xe9:"})," ",d.toLocaleString()," CDF/USD"]})})]})}},72393:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d});var t=s(65239),a=s(48088),i=s(88170),n=s.n(i),l=s(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(r,c);let d={children:["",{children:["admin",{children:["medications-prices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,34575)),"C:\\Users\\Public\\Documents\\Console Afrikapharma\\AfrikaPharma\\src\\app\\admin\\medications-prices\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Users\\Public\\Documents\\Console Afrikapharma\\AfrikaPharma\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["C:\\Users\\Public\\Documents\\Console Afrikapharma\\AfrikaPharma\\src\\app\\admin\\medications-prices\\page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/medications-prices/page",pathname:"/admin/medications-prices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},94735:e=>{"use strict";e.exports=require("events")},95564:(e,r,s)=>{Promise.resolve().then(s.bind(s,66366))},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[4243,6915,1422,1658,5426,5149,4017,7944,9853,6182],()=>s(72393));module.exports=t})();