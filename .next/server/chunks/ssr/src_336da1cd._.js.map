{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,8OAAC;YACC,aAAU;YACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/lib/actions/medications.ts"],"sourcesContent":["\n'use server';\n\nimport { prisma } from '@/lib/prisma';\ninterface MedicationPayload {\n  name: string;\n  pharmaceuticalForm: string;\n  purchasePrice: number;\n  purchasePriceUsd?: number | null;\n  price: number;\n  priceUsd?: number | null;\n  quantity: number;\n  expirationDate: Date;\n  barcode?: string | null;\n  isAvailableForSale: boolean;\n}\n\nexport async function getMedications() {\n  return await prisma.medication.findMany();\n}\n\nexport async function createMedication(data: MedicationPayload) {\n  return await prisma.medication.create({\n    data: {\n      ...data,\n      barcode: data.barcode ?? null,\n      purchasePriceUsd: data.purchasePriceUsd ?? 0,\n      priceUsd: data.priceUsd ?? 0,\n    } as any,\n  });\n}\n\nexport async function updateMedication(id: string, data: Partial<MedicationPayload>) {\n  return await prisma.medication.update({\n    where: { id },\n    data: {\n      ...data,\n      barcode: data.barcode ?? undefined,\n      purchasePriceUsd: data.purchasePriceUsd ?? undefined,\n      priceUsd: data.priceUsd ?? undefined,\n    } as any,\n  });\n}\n\nexport async function deleteMedication(id: string) {\n  return await prisma.medication.delete({ where: { id } });\n}\n"],"names":[],"mappings":";;;;;;IAqBsB,mBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/lib/actions/medications.ts"],"sourcesContent":["\n'use server';\n\nimport { prisma } from '@/lib/prisma';\ninterface MedicationPayload {\n  name: string;\n  pharmaceuticalForm: string;\n  purchasePrice: number;\n  purchasePriceUsd?: number | null;\n  price: number;\n  priceUsd?: number | null;\n  quantity: number;\n  expirationDate: Date;\n  barcode?: string | null;\n  isAvailableForSale: boolean;\n}\n\nexport async function getMedications() {\n  return await prisma.medication.findMany();\n}\n\nexport async function createMedication(data: MedicationPayload) {\n  return await prisma.medication.create({\n    data: {\n      ...data,\n      barcode: data.barcode ?? null,\n      purchasePriceUsd: data.purchasePriceUsd ?? 0,\n      priceUsd: data.priceUsd ?? 0,\n    } as any,\n  });\n}\n\nexport async function updateMedication(id: string, data: Partial<MedicationPayload>) {\n  return await prisma.medication.update({\n    where: { id },\n    data: {\n      ...data,\n      barcode: data.barcode ?? undefined,\n      purchasePriceUsd: data.purchasePriceUsd ?? undefined,\n      priceUsd: data.priceUsd ?? undefined,\n    } as any,\n  });\n}\n\nexport async function deleteMedication(id: string) {\n  return await prisma.medication.delete({ where: { id } });\n}\n"],"names":[],"mappings":";;;;;;IAgCsB,mBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/lib/actions/medications.ts"],"sourcesContent":["\n'use server';\n\nimport { prisma } from '@/lib/prisma';\ninterface MedicationPayload {\n  name: string;\n  pharmaceuticalForm: string;\n  purchasePrice: number;\n  purchasePriceUsd?: number | null;\n  price: number;\n  priceUsd?: number | null;\n  quantity: number;\n  expirationDate: Date;\n  barcode?: string | null;\n  isAvailableForSale: boolean;\n}\n\nexport async function getMedications() {\n  return await prisma.medication.findMany();\n}\n\nexport async function createMedication(data: MedicationPayload) {\n  return await prisma.medication.create({\n    data: {\n      ...data,\n      barcode: data.barcode ?? null,\n      purchasePriceUsd: data.purchasePriceUsd ?? 0,\n      priceUsd: data.priceUsd ?? 0,\n    } as any,\n  });\n}\n\nexport async function updateMedication(id: string, data: Partial<MedicationPayload>) {\n  return await prisma.medication.update({\n    where: { id },\n    data: {\n      ...data,\n      barcode: data.barcode ?? undefined,\n      purchasePriceUsd: data.purchasePriceUsd ?? undefined,\n      priceUsd: data.priceUsd ?? undefined,\n    } as any,\n  });\n}\n\nexport async function deleteMedication(id: string) {\n  return await prisma.medication.delete({ where: { id } });\n}\n"],"names":[],"mappings":";;;;;;IA4CsB,mBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/lib/store/cart.ts"],"sourcesContent":["\nimport { create } from 'zustand';\nimport { Medication } from '@prisma/client';\n\ninterface CartItem extends Medication {\n  quantityInCart: number;\n}\n\ninterface CartState {\n  items: CartItem[];\n  addItem: (item: Medication, quantity: number) => void;\n  removeItem: (itemId: string) => void;\n  updateItemQuantity: (itemId: string, quantity: number) => void;\n  clearCart: () => void;\n}\n\nexport const useCartStore = create<CartState>((set) => ({\n  items: [],\n  addItem: (item, quantity) =>\n    set((state) => {\n      const existingItem = state.items.find((i) => i.id === item.id);\n      if (existingItem) {\n        return {\n          items: state.items.map((i) =>\n            i.id === item.id ? { ...i, quantityInCart: i.quantityInCart + quantity } : i\n          ),\n        };\n      }\n      return { items: [...state.items, { ...item, quantityInCart: quantity }] };\n    }),\n  removeItem: (itemId) =>\n    set((state) => ({ items: state.items.filter((i) => i.id !== itemId) })),\n  updateItemQuantity: (itemId, quantity) =>\n    set((state) => ({\n      items: state.items.map((i) =>\n        i.id === itemId ? { ...i, quantityInCart: quantity } : i\n      ),\n    })),\n  clearCart: () => set({ items: [] }),\n}));\n"],"names":[],"mappings":";;;AACA;;AAeO,MAAM,eAAe,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,EAAa,CAAC,MAAQ,CAAC;QACtD,OAAO,EAAE;QACT,SAAS,CAAC,MAAM,WACd,IAAI,CAAC;gBACH,MAAM,eAAe,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,KAAK,EAAE;gBAC7D,IAAI,cAAc;oBAChB,OAAO;wBACL,OAAO,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,IACtB,EAAE,EAAE,KAAK,KAAK,EAAE,GAAG;gCAAE,GAAG,CAAC;gCAAE,gBAAgB,EAAE,cAAc,GAAG;4BAAS,IAAI;oBAE/E;gBACF;gBACA,OAAO;oBAAE,OAAO;2BAAI,MAAM,KAAK;wBAAE;4BAAE,GAAG,IAAI;4BAAE,gBAAgB;wBAAS;qBAAE;gBAAC;YAC1E;QACF,YAAY,CAAC,SACX,IAAI,CAAC,QAAU,CAAC;oBAAE,OAAO,MAAM,KAAK,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAAQ,CAAC;QACvE,oBAAoB,CAAC,QAAQ,WAC3B,IAAI,CAAC,QAAU,CAAC;oBACd,OAAO,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,IACtB,EAAE,EAAE,KAAK,SAAS;4BAAE,GAAG,CAAC;4BAAE,gBAAgB;wBAAS,IAAI;gBAE3D,CAAC;QACH,WAAW,IAAM,IAAI;gBAAE,OAAO,EAAE;YAAC;IACnC,CAAC","debugId":null}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/components/ui/form.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  ControllerProps,\n  FieldPath,\n  FieldValues,\n  FormProvider,\n  useFormContext,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message) : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/components/medications/medication-form.tsx"],"sourcesContent":["\n'use client';\n\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport * as z from 'zod';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';\nimport { Medication } from '@prisma/client';\n\nconst formSchema = z.object({\n  name: z.string().min(1, 'Le nom est requis'),\n  pharmaceuticalForm: z.string().min(1, 'La forme pharmaceutique est requise'),\n  purchasePrice: z.number().min(0, 'Le prix d\\'achat doit être positif'),\n  price: z.number().min(0, 'Le prix doit être positif'),\n  quantity: z.number().int().min(0, 'La quantité doit être un entier positif'),\n  expirationDate: z.string().refine((val) => !isNaN(Date.parse(val)), { message: 'Date invalide' }),\n  barcode: z.string().optional(),\n  isAvailableForSale: z.boolean().default(false),\n});\n\ninterface MedicationFormProps {\n  onSubmit: (data: z.input<typeof formSchema>) => Promise<void> | void;\n  medication: Medication | null;\n}\n\nexport function MedicationForm({ onSubmit, medication }: MedicationFormProps) {\n  const form = useForm<z.input<typeof formSchema>>({\n    resolver: zodResolver(formSchema),\n    defaultValues: {\n      name: medication?.name || '',\n      pharmaceuticalForm: medication?.pharmaceuticalForm || '',\n      purchasePrice: medication?.purchasePrice || 0,\n      price: medication?.price || 0,\n      quantity: medication?.quantity || 0,\n      expirationDate: medication ? new Date(medication.expirationDate).toISOString().split('T')[0] : '',\n      barcode: medication?.barcode || '',\n      isAvailableForSale: medication?.isAvailableForSale ?? false,\n    },\n  });\n\n  const handleSubmit = (values: z.input<typeof formSchema>) => {\n    onSubmit({\n      ...values,\n      expirationDate: new Date(values.expirationDate).toISOString(),\n      purchasePrice: Number(values.purchasePrice), // Explicitly cast to number\n      price: Number(values.price), // Explicitly cast to number\n    });\n  };\n\n  return (\n    <Form {...form}>\n  <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-4\">\n        <FormField\n          control={form.control}\n          name=\"name\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Nom</FormLabel>\n              <FormControl>\n                <Input placeholder=\"Nom du médicament\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"pharmaceuticalForm\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Forme pharmaceutique</FormLabel>\n              <FormControl>\n                <Input placeholder=\"Comprimé, Sirop, etc.\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"purchasePrice\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Prix d&apos;achat</FormLabel>\n              <FormControl>\n                <Input type=\"number\" placeholder=\"Prix d&apos;achat\" {...field} value={field.value as number | ''} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"price\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Prix</FormLabel>\n              <FormControl>\n                <Input type=\"number\" placeholder=\"Prix\" {...field} value={field.value as number | ''} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"quantity\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Quantité</FormLabel>\n              <FormControl>\n                <Input type=\"number\" placeholder=\"Quantité\" {...field} value={field.value as number | ''} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"expirationDate\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Date d&apos;expiration</FormLabel>\n              <FormControl>\n                <Input type=\"date\" {...field} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"barcode\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Code-barres</FormLabel>\n              <FormControl>\n                <Input placeholder=\"Code-barres\" {...field} value={field.value ?? ''} />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n        <FormField\n          control={form.control}\n          name=\"isAvailableForSale\"\n          render={({ field }) => (\n            <FormItem className=\"flex flex-row items-start space-x-3 space-y-0\">\n              <FormControl>\n                <input\n                  type=\"checkbox\"\n                  checked={field.value ?? false}\n                  onChange={(event) => field.onChange(event.target.checked)}\n                  className=\"mt-2\"\n                />\n              </FormControl>\n              <div className=\"space-y-1 leading-none\">\n                <FormLabel>\n                  Disponible à la vente\n                </FormLabel>\n              </div>\n            </FormItem>\n          )}\n        />\n        <Button type=\"submit\">Enregistrer</Button>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/components/ui/textarea.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.TextareaHTMLAttributes<HTMLTextAreaElement>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAJA;;;;AAMA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/components/medications/medications-list.tsx"],"sourcesContent":["\n'use client';\n\nimport { useCallback, useEffect, useState } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { getMedications, createMedication, updateMedication, deleteMedication } from '@/lib/actions/medications';\nimport { Medication } from '@prisma/client';\nimport { Button } from '@/components/ui/button';\nimport { useCartStore } from '@/lib/store/cart';\nimport { convertCdfToUsd, formatCurrency } from '@/lib/utils';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { MedicationForm } from './medication-form';\nimport { toast } from 'sonner';\nimport * as z from 'zod';\nimport { useSession } from 'next-auth/react';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Upload, FileText } from 'lucide-react';\n\ninterface MedicationsListProps {\n  exchangeRate?: number;\n  onExchangeRateChange?: (rate: number) => void;\n}\n\nexport function MedicationsList({ exchangeRate }: MedicationsListProps) {\n  const [medications, setMedications] = useState<Medication[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const { addItem } = useCartStore();\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [selectedMedication, setSelectedMedication] = useState<Medication | null>(null);\n  const [isImportDialogOpen, setIsImportDialogOpen] = useState(false);\n  const [importText, setImportText] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const { data: session } = useSession();\n  \n  // Check if user is admin\n  const isAdmin = session?.user?.role === 'admin';\n\n  // Fonction pour charger les médicaments avec recherche\n  const fetchMedications = useCallback(async (search?: string) => {\n    setIsLoading(true);\n    try {\n      const searchParams = new URLSearchParams();\n      if (search && search.trim()) {\n        searchParams.append('search', search.trim());\n      }\n      \n      const url = `/api/medications${searchParams.toString() ? '?' + searchParams.toString() : ''}`;\n      const response = await fetch(url, {\n        credentials: 'include',\n        cache: 'no-store',\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        // Vérifier si la réponse est un array ou un objet avec medications\n        const medicationsData = Array.isArray(data) ? data : (data.medications || []);\n        setMedications(medicationsData);\n      } else {\n        if (response.status === 401 || response.status === 403) {\n          toast.error('Session expirée. Veuillez vous reconnecter.');\n        }\n\n      const errorDetails = await response.text().catch(() => '');\n        console.error(\n          'Erreur lors du chargement des médicaments:',\n          response.status,\n          response.statusText,\n          errorDetails\n        );\n        setMedications([]);\n      }\n    } catch (error) {\n      console.error('Erreur lors de la récupération des médicaments:', error);\n      toast.error('Impossible de charger les médicaments.');\n      setMedications([]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const notifyMedicationsUpdated = () => {\n    if (typeof window !== 'undefined') {\n      window.dispatchEvent(new CustomEvent('medications:updated'));\n    }\n  };\n\n  useEffect(() => {\n    fetchMedications();\n  }, [fetchMedications]);\n\n  // Debounce pour éviter trop de requêtes\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      fetchMedications(searchTerm);\n    }, 300);\n\n    return () => clearTimeout(timeoutId);\n  }, [fetchMedications, searchTerm]);\n\n  useEffect(() => {\n    const handler = () => {\n      fetchMedications(searchTerm);\n    };\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('medications:updated', handler);\n    }\n\n    return () => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('medications:updated', handler);\n      }\n    };\n  }, [fetchMedications, searchTerm]);\n\n  // Pas besoin de filtrage côté client maintenant\n  const filteredMedications = medications.sort((a, b) => a.name.localeCompare(b.name));\n\n  const handleAddToCart = (medication: Medication) => {\n    addItem(medication, 1);\n    console.log('Médicament ajouté au panier:', medication);\n  };\n\n  const handleFormSubmit = async (data: any) => {\n    const medicationData = {\n      ...data,\n      expirationDate: new Date(data.expirationDate).toISOString(),\n      purchasePrice: Number(data.purchasePrice),\n      price: Number(data.price),\n      isAvailableForSale: Boolean(data.isAvailableForSale),\n      quantity: Number(data.quantity),\n      barcode: data.barcode ? String(data.barcode).trim() : null,\n      purchasePriceUsd: convertCdfToUsd(Number(data.purchasePrice), exchangeRate || undefined),\n      priceUsd: convertCdfToUsd(Number(data.price), exchangeRate || undefined),\n    };\n\n    if (selectedMedication) {\n      await updateMedication(selectedMedication.id, medicationData);\n      toast.success('Médicament mis à jour avec succès!');\n    } else {\n      await createMedication(medicationData);\n      toast.success('Médicament ajouté avec succès!');\n    }\n    \n    // Recharger les médicaments\n    await fetchMedications(searchTerm);\n    notifyMedicationsUpdated();\n    setIsDialogOpen(false);\n    setSelectedMedication(null);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce médicament ?')) {\n      await deleteMedication(id);\n      toast.success('Médicament supprimé avec succès!');\n      // Recharger les médicaments\n      await fetchMedications(searchTerm);\n      notifyMedicationsUpdated();\n    }\n  };\n\n  const handleImport = async () => {\n    if (!importText.trim()) {\n      toast.error('Veuillez saisir une liste de médicaments');\n      return;\n    }\n\n    try {\n      const lines = importText.split('\\n').filter(line => line.trim());\n      let successCount = 0;\n      let errorCount = 0;\n\n      for (const line of lines) {\n        try {\n          // Format attendu: \"Nom | Forme | Prix d'achat | Prix de vente | Quantité | Date d'expiration\"\n          const parts = line.split('|').map(part => part.trim());\n          \n          if (parts.length >= 6) {\n            const [name, pharmaceuticalForm, purchasePrice, price, quantity, expirationDate] = parts;\n            \n            // Validation basique\n            if (name && pharmaceuticalForm && !isNaN(Number(purchasePrice)) && \n                !isNaN(Number(price)) && !isNaN(Number(quantity))) {\n              \n              const medicationData = {\n                name,\n                pharmaceuticalForm,\n                purchasePrice: Number(purchasePrice),\n                price: Number(price),\n                quantity: Number(quantity),\n                expirationDate: new Date(expirationDate),\n                barcode: '', // Optionnel\n                isAvailableForSale: false,\n              };\n\n              await createMedication(medicationData);\n              successCount++;\n            } else {\n              errorCount++;\n              console.warn(`Ligne ignorée (données invalides): ${line}`);\n            }\n          } else {\n            errorCount++;\n            console.warn(`Ligne ignorée (format incorrect): ${line}`);\n          }\n        } catch (error) {\n          errorCount++;\n          console.error(`Erreur lors de l'ajout du médicament: ${line}`, error);\n        }\n      }\n\n      // Recharger les médicaments\n      await fetchMedications(searchTerm);\n      setIsImportDialogOpen(false);\n      setImportText('');\n      \n      if (successCount > 0) {\n        toast.success(`${successCount} médicament(s) importé(s) avec succès!`);\n      }\n      if (errorCount > 0) {\n        toast.warning(`${errorCount} ligne(s) ignorée(s) (format incorrect ou données invalides)`);\n      }\n    } catch (error) {\n      console.error('Erreur lors de l\\'import:', error);\n      toast.error('Erreur lors de l\\'import des médicaments');\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center space-x-2\">\n          <Input\n            placeholder=\"Rechercher un médicament par nom ou code-barres...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"max-w-sm\"\n          />\n        </div>\n        \n        {isAdmin && (\n          <div className=\"flex items-center space-x-2\">\n            {/* Bouton d'import */}\n            <Dialog open={isImportDialogOpen} onOpenChange={setIsImportDialogOpen}>\n              <DialogTrigger asChild>\n                <Button variant=\"outline\" className=\"flex items-center space-x-2 cursor-pointer\">\n                  <Upload className=\"h-4 w-4\" />\n                  <span>Importer</span>\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                <DialogHeader>\n                  <DialogTitle className=\"flex items-center space-x-2\">\n                    <FileText className=\"h-5 w-5\" />\n                    <span>Importer une liste de médicaments</span>\n                  </DialogTitle>\n                </DialogHeader>\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto pr-2\">\n                  <div>\n                    <p className=\"text-sm text-gray-600 mb-2\">\n                      Format requis : <code>Nom | Forme | Prix d'achat | Prix de vente | Quantité | Date d'expiration</code>\n                    </p>\n                    <p className=\"text-xs text-gray-500 mb-3\">\n                      Exemple : <code>Paracétamol | Comprimé | 100 | 150 | 50 | 2025-12-31</code>\n                    </p>\n                  </div>\n                  <Textarea\n                    placeholder=\"Collez votre liste de médicaments ici...\"\n                    value={importText}\n                    onChange={(e) => setImportText(e.target.value)}\n                    rows={10}\n                    className=\"font-mono text-sm\"\n                  />\n                  <div className=\"flex justify-end space-x-2\">\n                    <Button variant=\"outline\" onClick={() => setIsImportDialogOpen(false)} className=\"cursor-pointer\">\n                      Annuler\n                    </Button>\n                    <Button onClick={handleImport} className=\"cursor-pointer\">\n                      Importer les médicaments\n                    </Button>\n                  </div>\n                </div>\n              </DialogContent>\n            </Dialog>\n\n            {/* Bouton d'ajout simple */}\n            <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n              <DialogTrigger asChild>\n                <Button onClick={() => setSelectedMedication(null)} className=\"cursor-pointer\">\n                  Ajouter un médicament\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"max-h-[90vh] overflow-y-auto\">\n                <DialogHeader>\n                  <DialogTitle>{selectedMedication ? 'Modifier le médicament' : 'Ajouter un médicament'}</DialogTitle>\n                </DialogHeader>\n                <div className=\"max-h-[70vh] overflow-y-auto pr-2\">\n                  <MedicationForm onSubmit={handleFormSubmit} medication={selectedMedication} />\n                </div>\n              </DialogContent>\n            </Dialog>\n          </div>\n        )}\n      </div>\n      \n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>Nom</TableHead>\n              <TableHead>Prix (CDF)</TableHead>\n              <TableHead>Prix (USD)</TableHead>\n            <TableHead>Quantité</TableHead>\n            <TableHead>Date d&apos;expiration</TableHead>\n            <TableHead></TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {filteredMedications.map((medication) => (\n            <TableRow key={medication.id}>\n              <TableCell>{medication.name}</TableCell>\n              <TableCell>{formatCurrency(medication.price)}</TableCell>\n              <TableCell>\n                {formatCurrency(\n                  convertCdfToUsd(medication.price, exchangeRate || undefined),\n                  'USD'\n                )}\n              </TableCell>\n              <TableCell>{medication.quantity}</TableCell>\n              <TableCell>{new Date(medication.expirationDate).toLocaleDateString()}</TableCell>\n              <TableCell>\n              <Button onClick={() => { console.log('Bouton Ajouter au panier cliqué'); handleAddToCart(medication); }} className=\"cursor-pointer\">Ajouter au panier</Button>\n              {isAdmin && (\n                <>\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => { setSelectedMedication(medication); setIsDialogOpen(true); }} className=\"ml-2 cursor-pointer\">Modifier</Button>\n                  <Button variant=\"destructive\" size=\"sm\" onClick={() => handleDelete(medication.id)} className=\"ml-2 cursor-pointer\">Supprimer</Button>\n                </>\n              )}\n            </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1478, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Public/Documents/AfrikaPharma/src/components/medications/reference-medications-table.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ChangeEvent, useMemo, useState, useTransition } from 'react';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Label } from '@/components/ui/label';\r\nimport { toast } from 'sonner';\r\nimport { createMedication } from '@/lib/actions/medications';\r\nimport { convertCdfToUsd, formatCurrency } from '@/lib/utils';\r\nimport { Loader2, PackagePlus, ShoppingCart } from 'lucide-react';\r\n\r\nexport interface ReferenceMedication {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  expirationDate: string;\r\n  form: string;\r\n  stock: number;\r\n}\r\n\r\ninterface ReferenceMedicationsTableProps {\r\n  data: ReferenceMedication[];\r\n  exchangeRate: number;\r\n}\r\n\r\ninterface TransferFormState {\r\n  name: string;\r\n  pharmaceuticalForm: string;\r\n  purchasePrice: string;\r\n  price: string;\r\n  quantity: string;\r\n  expirationDate: string;\r\n  barcode: string;\r\n  isAvailableForSale: boolean;\r\n}\r\n\r\nconst DEFAULT_FORM_STATE: TransferFormState = {\r\n  name: '',\r\n  pharmaceuticalForm: '',\r\n  purchasePrice: '',\r\n  price: '',\r\n  quantity: '0',\r\n  expirationDate: '',\r\n  barcode: '',\r\n  isAvailableForSale: false,\r\n};\r\n\r\nfunction normalizeExpirationDate(input: string): string {\r\n  if (!input) {\r\n    return '';\r\n  }\r\n\r\n  const parsed = Date.parse(input);\r\n  if (!Number.isNaN(parsed)) {\r\n    return new Date(parsed).toISOString().split('T')[0];\r\n  }\r\n\r\n  const [day, month, year] = input.split(/[\\/\\-]/);\r\n  if (day && month && year) {\r\n    const isoCandidate = `${year.length === 2 ? `20${year}` : year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;\r\n    const fallbackParsed = Date.parse(isoCandidate);\r\n    if (!Number.isNaN(fallbackParsed)) {\r\n      return new Date(fallbackParsed).toISOString().split('T')[0];\r\n    }\r\n  }\r\n\r\n  const fallbackDate = new Date();\r\n  fallbackDate.setMonth(fallbackDate.getMonth() + 12);\r\n  return fallbackDate.toISOString().split('T')[0];\r\n}\r\n\r\nfunction toNumber(value: string | number, fallback = 0): number {\r\n  if (typeof value === 'number') {\r\n    return Number.isFinite(value) ? value : fallback;\r\n  }\r\n\r\n  const sanitized = value.replace(',', '.').trim();\r\n  const parsed = Number(sanitized);\r\n  return Number.isFinite(parsed) ? parsed : fallback;\r\n}\r\n\r\nexport function ReferenceMedicationsTable({ data, exchangeRate }: ReferenceMedicationsTableProps) {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [formState, setFormState] = useState<TransferFormState>(DEFAULT_FORM_STATE);\r\n  const [isSubmitting, startTransition] = useTransition();\r\n  const [originLabel, setOriginLabel] = useState<'stock' | 'available'>('stock');\r\n\r\n  const filteredMedications = useMemo(() => {\r\n    if (!searchTerm.trim()) {\r\n      return data;\r\n    }\r\n    const term = searchTerm.trim().toLowerCase();\r\n    return data.filter((item) =>\r\n      item.name.toLowerCase().includes(term) || item.form.toLowerCase().includes(term)\r\n    );\r\n  }, [data, searchTerm]);\r\n\r\n  const openDialog = (medication: ReferenceMedication, target: 'stock' | 'available') => {\r\n    setFormState({\r\n      name: medication.name,\r\n      pharmaceuticalForm: medication.form,\r\n      purchasePrice: String(toNumber(medication.price, 0)),\r\n      price: String(toNumber(medication.price, 0)),\r\n      quantity: String(Math.max(0, Math.trunc(toNumber(medication.stock, 0)))),\r\n      expirationDate: normalizeExpirationDate(medication.expirationDate),\r\n      barcode: '',\r\n      isAvailableForSale: target === 'available',\r\n    });\r\n    setOriginLabel(target);\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleChange = (field: keyof TransferFormState) => (event: ChangeEvent<HTMLInputElement>) => {\r\n    const value = field === 'isAvailableForSale' ? event.target.checked : event.target.value;\r\n    setFormState((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    startTransition(async () => {\r\n      try {\r\n        const name = formState.name.trim();\r\n        const pharmaceuticalForm = formState.pharmaceuticalForm.trim() || 'Non précisé';\r\n        const purchasePrice = toNumber(formState.purchasePrice, 0);\r\n        const price = toNumber(formState.price, 0);\r\n        const quantity = Math.max(0, Math.trunc(toNumber(formState.quantity, 0)));\r\n        const expirationDate = formState.expirationDate || normalizeExpirationDate('');\r\n        const barcode = formState.barcode.trim();\r\n\r\n        if (!name) {\r\n          toast.error('Le nom du médicament est requis.');\r\n          return;\r\n        }\r\n\r\n        if (price <= 0) {\r\n          toast.error('Le prix de vente doit être supérieur à 0.');\r\n          return;\r\n        }\r\n\r\n        const priceUsd = convertCdfToUsd(price, exchangeRate || undefined);\r\n        const purchasePriceUsd = convertCdfToUsd(purchasePrice, exchangeRate || undefined);\r\n\r\n        await createMedication({\r\n          name,\r\n          pharmaceuticalForm,\r\n          purchasePrice,\r\n          purchasePriceUsd,\r\n          price,\r\n          priceUsd,\r\n          quantity,\r\n          expirationDate: new Date(expirationDate),\r\n          barcode: barcode || null,\r\n          isAvailableForSale: formState.isAvailableForSale,\r\n        });\r\n\r\n        if (typeof window !== 'undefined') {\r\n          window.dispatchEvent(new CustomEvent('medications:updated'));\r\n        }\r\n\r\n        toast.success(\r\n          formState.isAvailableForSale\r\n            ? 'Médicament transféré vers les produits disponibles.'\r\n            : 'Médicament transféré vers le stock.'\r\n        );\r\n        setIsDialogOpen(false);\r\n        setFormState(DEFAULT_FORM_STATE);\r\n      } catch (error) {\r\n        console.error('Erreur lors du transfert du médicament:', error);\r\n        toast.error('Impossible de transférer le médicament.');\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!data.length) {\r\n    return (\r\n      <div className=\"rounded-lg border border-dashed border-slate-300 bg-slate-50 p-6 text-sm text-slate-600\">\r\n        Aucune donnée de référence n&apos;a pu être chargée.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold\">Liste de référence (500 médicaments)</h2>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Ajoutez rapidement une référence au stock ou aux produits disponibles.\r\n          </p>\r\n        </div>\r\n        <Input\r\n          placeholder=\"Rechercher par nom ou forme pharmaceutique...\"\r\n          value={searchTerm}\r\n          onChange={(event) => setSearchTerm(event.target.value)}\r\n          className=\"max-w-sm\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"max-h-[30rem] overflow-y-auto rounded-lg border bg-white shadow-sm\">\r\n        <Table>\r\n          <TableHeader className=\"sticky top-0 bg-white\">\r\n            <TableRow>\r\n              <TableHead>Médicament</TableHead>\r\n              <TableHead>Forme</TableHead>\r\n              <TableHead className=\"text-right\">Prix réf. (CDF)</TableHead>\r\n              <TableHead className=\"text-right\">Prix réf. (USD)</TableHead>\r\n              <TableHead>Date d&apos;expiration</TableHead>\r\n              <TableHead className=\"text-right\">Stock suggéré</TableHead>\r\n              <TableHead>Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {filteredMedications.map((medication) => {\r\n              const usdEstimate = convertCdfToUsd(medication.price, exchangeRate || undefined);\r\n              return (\r\n                <TableRow key={medication.id}>\r\n                  <TableCell className=\"font-medium\">{medication.name}</TableCell>\r\n                  <TableCell>{medication.form}</TableCell>\r\n                  <TableCell className=\"text-right\">{formatCurrency(medication.price)}</TableCell>\r\n                  <TableCell className=\"text-right\">{formatCurrency(usdEstimate, 'USD')}</TableCell>\r\n                  <TableCell>{medication.expirationDate || 'N/A'}</TableCell>\r\n                  <TableCell className=\"text-right\">{medication.stock}</TableCell>\r\n                  <TableCell>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        className=\"cursor-pointer\"\r\n                        onClick={() => openDialog(medication, 'stock')}\r\n                      >\r\n                        <PackagePlus className=\"mr-2 h-4 w-4\" /> Stock\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        className=\"cursor-pointer\"\r\n                        onClick={() => openDialog(medication, 'available')}\r\n                      >\r\n                        <ShoppingCart className=\"mr-2 h-4 w-4\" /> Mettre en vente\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n            {filteredMedications.length === 0 && (\r\n              <TableRow>\r\n                <TableCell colSpan={7} className=\"py-6 text-center text-sm text-muted-foreground\">\r\n                  Aucun médicament trouvé pour cette recherche.\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"max-w-xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {originLabel === 'available' ? 'Publier ce médicament' : 'Ajouter au stock'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Complétez les informations avant de transférer la référence sélectionnée.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"grid gap-4 py-4\">\r\n            <div className=\"grid gap-2\">\r\n              <Label htmlFor=\"ref-name\">Nom</Label>\r\n              <Input\r\n                id=\"ref-name\"\r\n                value={formState.name}\r\n                onChange={handleChange('name')}\r\n                placeholder=\"Nom du médicament\"\r\n              />\r\n            </div>\r\n            <div className=\"grid gap-2\">\r\n              <Label htmlFor=\"ref-form\">Forme pharmaceutique</Label>\r\n              <Input\r\n                id=\"ref-form\"\r\n                value={formState.pharmaceuticalForm}\r\n                onChange={handleChange('pharmaceuticalForm')}\r\n                placeholder=\"Comprimé, sirop, etc.\"\r\n              />\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"ref-purchase\">Prix d&apos;achat (CDF)</Label>\r\n                <Input\r\n                  id=\"ref-purchase\"\r\n                  type=\"number\"\r\n                  value={formState.purchasePrice}\r\n                  onChange={handleChange('purchasePrice')}\r\n                  min={0}\r\n                />\r\n              </div>\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"ref-price\">Prix de vente (CDF)</Label>\r\n                <Input\r\n                  id=\"ref-price\"\r\n                  type=\"number\"\r\n                  value={formState.price}\r\n                  onChange={handleChange('price')}\r\n                  min={0}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"ref-quantity\">Quantité initiale</Label>\r\n                <Input\r\n                  id=\"ref-quantity\"\r\n                  type=\"number\"\r\n                  value={formState.quantity}\r\n                  onChange={handleChange('quantity')}\r\n                  min={0}\r\n                />\r\n              </div>\r\n              <div className=\"grid gap-2\">\r\n                <Label htmlFor=\"ref-expiration\">Date d&apos;expiration</Label>\r\n                <Input\r\n                  id=\"ref-expiration\"\r\n                  type=\"date\"\r\n                  value={formState.expirationDate}\r\n                  onChange={handleChange('expirationDate')}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"grid gap-2\">\r\n              <Label htmlFor=\"ref-barcode\">Code-barres (optionnel)</Label>\r\n              <Input\r\n                id=\"ref-barcode\"\r\n                value={formState.barcode}\r\n                onChange={handleChange('barcode')}\r\n                placeholder=\"Scannez ou saisissez un code-barres\"\r\n              />\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                id=\"ref-available\"\r\n                type=\"checkbox\"\r\n                checked={formState.isAvailableForSale}\r\n                onChange={handleChange('isAvailableForSale')}\r\n              />\r\n              <Label htmlFor=\"ref-available\">Rendre disponible à la vente immédiatement</Label>\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setIsDialogOpen(false)}\r\n              className=\"cursor-pointer\"\r\n              disabled={isSubmitting}\r\n            >\r\n              Annuler\r\n            </Button>\r\n            <Button onClick={handleSubmit} disabled={isSubmitting} className=\"cursor-pointer\">\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Traitement...\r\n                </>\r\n              ) : (\r\n                'Confirmer le transfert'\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}