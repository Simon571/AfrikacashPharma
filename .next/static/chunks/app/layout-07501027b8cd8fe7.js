(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(5155);s(2115);var a=s(9708),n=s(2085),i=s(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:n,asChild:l=!1,...d}=e,c=l?a.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:s,size:n,className:t})),...d})}},347:()=>{},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(5155);s(2115);var a=s(9434);function n(e){let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},4165:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>h,L3:()=>x,c7:()=>m,lG:()=>o,rr:()=>f,zM:()=>l});var r=s(5155);s(2115);var a=s(5452),n=s(4416),i=s(9434);function o(e){let{...t}=e;return(0,r.jsx)(a.bL,{"data-slot":"dialog",...t})}function l(e){let{...t}=e;return(0,r.jsx)(a.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,r.jsx)(a.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...s}=e;return(0,r.jsx)(a.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,showCloseButton:o=!0,...l}=e;return(0,r.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,r.jsx)(c,{}),(0,r.jsxs)(a.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[s,o&&(0,r.jsxs)(a.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function h(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function x(e){let{className:t,...s}=e;return(0,r.jsx)(a.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",t),...s})}function f(e){let{className:t,...s}=e;return(0,r.jsx)(a.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}},4556:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,5356,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,4573)),Promise.resolve().then(s.bind(s,4622)),Promise.resolve().then(s.bind(s,6588)),Promise.resolve().then(s.bind(s,9416)),Promise.resolve().then(s.bind(s,4673)),Promise.resolve().then(s.bind(s,7047))},4573:(e,t,s)=>{"use strict";s.d(t,{ErrorBoundary:()=>i});var r=s(5155),a=s(2115),n=s(285);class i extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Erreur captur\xe9e par ErrorBoundary:",e,t),this.logErrorToService(e,t)}logErrorToService(e,t){try{fetch("/api/log-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e.message,stack:e.stack,componentStack:t.componentStack,timestamp:new Date().toISOString()})})}catch(e){console.error("Erreur lors du logging:",e)}}render(){return this.state.hasError?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)("div",{className:"bg-red-100 p-2 rounded-full",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.232 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Oups ! Une erreur est survenue"})]}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Nous sommes d\xe9sol\xe9s, mais quelque chose s'est mal pass\xe9. Veuillez r\xe9essayer ou contacter le support si le probl\xe8me persiste."}),!1,(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(n.$,{onClick:this.handleReset,className:"flex-1",children:"R\xe9essayer"}),(0,r.jsx)(n.$,{variant:"outline",onClick:()=>window.location.reload(),className:"flex-1",children:"Recharger la page"})]})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}}},4622:(e,t,s)=>{"use strict";s.d(t,{ConditionalHeader:()=>k});var r=s(5155),a=s(2108),n=s(5695),i=s(6874),o=s.n(i),l=s(4165),d=s(2115),c=s(4011),u=s(9434);let m=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.Root,{ref:t,className:(0,u.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});m.displayName=c.Root.displayName;let h=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.Image,{ref:t,className:(0,u.cn)("aspect-square h-full w-full",s),...a})});h.displayName=c.Image.displayName;let x=d.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.Fallback,{ref:t,className:(0,u.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});x.displayName=c.Fallback.displayName;var f=s(285),p=s(2523),g=s(5057),v=s(6695),b=s(6671),w=s(6766),j=s(7566);function N(){var e,t;let{data:s,update:n}=(0,a.useSession)(),[i,o]=(0,d.useState)((null==s||null==(e=s.user)?void 0:e.username)||""),[l,c]=(0,d.useState)(""),[u,m]=(0,d.useState)(""),[h,x]=(0,d.useState)(""),[N,y]=(0,d.useState)((null==s||null==(t=s.user)?void 0:t.image)||""),[k,S]=(0,d.useState)(!1),P=(0,j.S)(),C=async e=>{e.preventDefault(),S(!0);try{var t;let e=await fetch("/api/users/update-username",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:null==s||null==(t=s.user)?void 0:t.id,username:i})});if(e.ok)b.oR.success("Nom d'utilisateur mis \xe0 jour avec succ\xe8s!"),n({username:i});else{let t=await e.json();b.oR.error("Erreur: ".concat(t.message||"Impossible de mettre \xe0 jour le nom d&apos;utilisateur."))}}catch(e){console.error("Failed to update username:",e),b.oR.error("Erreur r\xe9seau lors de la mise \xe0 jour du nom d&apos;utilisateur.")}finally{S(!1)}},A=async e=>{if(e.preventDefault(),S(!0),u!==h){b.oR.error("Les nouveaux mots de passe ne correspondent pas."),S(!1);return}try{var t;let e=await fetch("/api/users/update-password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:null==s||null==(t=s.user)?void 0:t.id,currentPassword:l,newPassword:u})});if(e.ok)b.oR.success("Mot de passe mis \xe0 jour avec succ\xe8s!"),c(""),m(""),x("");else{let t=await e.json();b.oR.error("Erreur: ".concat(t.message||"Impossible de mettre \xe0 jour le mot de passe."))}}catch(e){console.error("Failed to update password:",e),b.oR.error("Erreur r\xe9seau lors de la mise \xe0 jour du mot de passe.")}finally{S(!1)}},R=async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let r=new FileReader;r.onloadend=()=>{let e=r.result;y(e),n({image:e}),b.oR.success("Photo de profil mise \xe0 jour!")},r.readAsDataURL(s)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(v.Zp,{children:[(0,r.jsx)(v.aR,{children:(0,r.jsx)(v.ZB,{children:"Modifier le Nom d'utilisateur"})}),(0,r.jsx)(v.Wu,{children:(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"newUsername",children:"Nouveau Nom d'utilisateur"}),(0,r.jsx)(p.p,{id:"newUsername",type:"text",value:i,onChange:e=>o(e.target.value),required:!0,disabled:k})]}),(0,r.jsx)(f.$,{type:"submit",disabled:k,children:k?"Mise \xe0 jour...":"Mettre \xe0 jour le Nom d&apos;utilisateur"})]})})]}),(0,r.jsxs)(v.Zp,{children:[(0,r.jsx)(v.aR,{children:(0,r.jsx)(v.ZB,{children:"Modifier le Mot de passe"})}),(0,r.jsx)(v.Wu,{children:(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),(0,r.jsx)(p.p,{id:"currentPassword",type:"password",value:l,onChange:e=>c(e.target.value),required:!0,disabled:k})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"newPassword",children:"Nouveau Mot de passe"}),(0,r.jsx)(p.p,{id:"newPassword",type:"password",value:u,onChange:e=>m(e.target.value),required:!0,disabled:k})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(g.J,{htmlFor:"confirmNewPassword",children:"Confirmer le Nouveau Mot de passe"}),(0,r.jsx)(p.p,{id:"confirmNewPassword",type:"password",value:h,onChange:e=>x(e.target.value),required:!0,disabled:k})]}),(0,r.jsx)(f.$,{type:"submit",disabled:k,children:k?"Mise \xe0 jour...":"Mettre \xe0 jour le Mot de passe"})]})})]}),(0,r.jsxs)(v.Zp,{children:[(0,r.jsx)(v.aR,{children:(0,r.jsx)(v.ZB,{children:"Modifier la Photo de Profil"})}),(0,r.jsxs)(v.Wu,{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)(w.default,{src:N||"/default-avatar.png",alt:"Photo de profil",width:96,height:96,className:"w-24 h-24 rounded-full object-cover"}),(0,r.jsx)(p.p,{id:"profileImage",type:"file",accept:"image/*",onChange:R,className:"w-full max-w-xs",disabled:k})]})]}),(0,r.jsx)(f.$,{onClick:P,variant:"destructive",className:"w-full",disabled:k,children:"D\xe9connexion"})]})}function y(){var e;let{data:t}=(0,a.useSession)(),[s,n]=(0,d.useState)(!1);return(0,r.jsxs)("header",{className:"bg-gray-800 text-white p-4 flex justify-between items-center",children:[(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)("h1",{className:"text-xl font-bold",children:"AFRIKA PHARMA"})}),t&&(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)(l.lG,{open:s,onOpenChange:n,children:[(0,r.jsx)(l.zM,{asChild:!0,children:(0,r.jsxs)("div",{className:"flex items-center cursor-pointer space-x-2",children:[(0,r.jsx)("span",{children:"Profil"}),(0,r.jsxs)(m,{children:[(0,r.jsx)(h,{src:t.user.image||"/default-avatar.png",alt:"@username"}),(0,r.jsx)(x,{children:(null==(e=t.user.username)?void 0:e.charAt(0).toUpperCase())||"U"})]})]})}),(0,r.jsxs)(l.Cf,{children:[(0,r.jsx)(l.c7,{children:(0,r.jsx)(l.L3,{children:"Param\xe8tres du Profil"})}),(0,r.jsx)(N,{})]})]})})]})}function k(){let{data:e,status:t}=(0,a.useSession)(),s=(0,n.usePathname)();return!e||"authenticated"!==t||["/","/login-admin","/login-seller","/login-common"].includes(s)?(0,r.jsx)(y,{}):null}},4673:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>n});var r=s(5155),a=s(2108);function n(e){let{children:t}=e;return(0,r.jsx)(a.SessionProvider,{children:t})}},5057:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(5155);s(2115);var a=s(968),n=s(9434);function i(e){let{className:t,...s}=e;return(0,r.jsx)(a.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},6588:(e,t,s)=>{"use strict";s.d(t,{ConditionalLayout:()=>S});var r=s(5155),a=s(2108),n=s(5695),i=s(2115),o=s(6874),l=s.n(o),d=s(9434),c=s(7340),u=s(7809),m=s(7108),h=s(4131),x=s(2713),f=s(8621),p=s(3550),g=s(1492),v=s(3332),b=s(7580),w=s(6308),j=s(4835),N=s(285),y=s(7566);function k(e){var t,s;let{children:o}=e,k=(0,n.usePathname)(),{data:S,status:P}=(0,a.useSession)(),C=(0,n.useRouter)(),[A]=(0,i.useState)(!0),R=(0,y.S)(),E=(null==S||null==(t=S.user)?void 0:t.role)==="admin",D=(null==S||null==(s=S.user)?void 0:s.role)==="seller";return(0,i.useEffect)(()=>{"unauthenticated"===P&&C.push("/")},[P,C]),(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-100",children:[(0,r.jsxs)("aside",{className:(0,d.cn)("fixed top-0 left-0 h-screen bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 shadow-lg p-4 transition-all duration-300 ease-in-out overflow-y-auto z-10 hidden lg:block",A?"w-64":"w-0 overflow-hidden"),children:[(0,r.jsx)("div",{className:"text-2xl font-bold mb-6 text-white",children:"AFRIKA PHARMA"}),(0,r.jsxs)("nav",{className:"space-y-2",children:[E&&(0,r.jsxs)(l(),{href:"/admin-dashboard",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/admin-dashboard"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(c.A,{className:"mr-3 h-5 w-5"}),"Dashboard Admin"]}),D&&(0,r.jsxs)(l(),{href:"/seller-dashboard",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/seller-dashboard"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(c.A,{className:"mr-3 h-5 w-5"}),"Dashboard Vendeur"]}),E&&(0,r.jsxs)(l(),{href:"/sell",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/sell"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(u.A,{className:"mr-3 h-5 w-5"}),"Vente Rapide"]}),E&&(0,r.jsxs)(l(),{href:"/medications",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/medications"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(m.A,{className:"mr-3 h-5 w-5"}),"M\xe9dicaments"]}),E&&(0,r.jsxs)(l(),{href:"/admin/inventory",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/admin/inventory"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(h.A,{className:"mr-3 h-5 w-5"}),"Inventaire"]}),D&&(0,r.jsxs)(l(),{href:"/ventes",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/ventes"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(u.A,{className:"mr-3 h-5 w-5"}),"Ventes"]}),D&&(0,r.jsxs)(l(),{href:"/daily-report",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/daily-report"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(x.A,{className:"mr-3 h-5 w-5"}),"Rapport Journalier"]}),E&&(0,r.jsxs)(l(),{href:"/admin/global-report",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/admin/global-report"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(x.A,{className:"mr-3 h-5 w-5"}),"Rapport Journalier Global"]}),E&&(0,r.jsxs)(l(),{href:"/admin/stock",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/admin/stock"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(f.A,{className:"mr-3 h-5 w-5"}),"Stock"]}),E&&(0,r.jsxs)(l(),{href:"/admin/exchange-rate",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/admin/exchange-rate"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(p.A,{className:"mr-3 h-5 w-5"}),"Taux de Change"]}),E&&(0,r.jsxs)(l(),{href:"/stock-movements",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/stock-movements"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(g.A,{className:"mr-3 h-5 w-5"}),"Mouvement de Stock"]}),E&&(0,r.jsxs)(l(),{href:"/admin/produits-disponibles",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/admin/produits-disponibles"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(v.A,{className:"mr-3 h-5 w-5"}),"Produits Disponibles"]}),E&&(0,r.jsxs)(l(),{href:"/sales",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/sales"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(u.A,{className:"mr-3 h-5 w-5"}),"Historique Ventes"]}),E&&(0,r.jsxs)(l(),{href:"/users",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/users"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(b.A,{className:"mr-3 h-5 w-5"}),"Utilisateurs"]}),E&&(0,r.jsxs)(l(),{href:"/expenses",className:(0,d.cn)("flex items-center p-2 rounded-md text-white hover:bg-white/20 transition-colors","/expenses"===k&&"bg-white/30 text-white font-semibold"),children:[(0,r.jsx)(w.A,{className:"mr-3 h-5 w-5"}),"Gestion des D\xe9penses"]}),S&&(0,r.jsxs)(N.$,{onClick:R,className:(0,d.cn)("w-full flex items-center p-2 rounded-md text-white hover:bg-red-600 justify-start transition-colors mt-4","bg-red-500 hover:bg-red-600 text-white border-none shadow-lg"),children:[(0,r.jsx)(j.A,{className:"mr-3 h-5 w-5"}),"D\xe9connexion"]})]})]}),(0,r.jsx)("main",{className:(0,d.cn)("flex-1 transition-all duration-300 ease-in-out min-h-screen",A?"lg:ml-64":"ml-0"),children:(0,r.jsx)("div",{className:"p-2 sm:p-4 lg:p-8",children:o})})]})}function S(e){let{children:t}=e,{data:s,status:i}=(0,a.useSession)(),o=(0,n.usePathname)();return s&&"authenticated"===i&&!["/","/login-admin","/login-seller","/login-common"].includes(o)?(0,r.jsx)("div",{className:"min-h-screen",children:(0,r.jsx)(k,{children:t})}):(0,r.jsx)("main",{children:t})}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var r=s(5155);s(2115);var a=s(9434);function n(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function i(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function o(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",t),...s})}function l(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",t),...s})}function d(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",t),...s})}},7047:(e,t,s)=>{"use strict";s.d(t,{PWAInstaller:()=>i});var r=s(5155),a=s(2115),n=s(285);function i(){let[e,t]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{l(window.matchMedia("(display-mode: standalone)").matches);let e=e=>{e.preventDefault(),t(e),i(!0)};return window.addEventListener("beforeinstallprompt",e),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker enregistr\xe9:",e)}).catch(e=>{console.log("Erreur Service Worker:",e)}),()=>{window.removeEventListener("beforeinstallprompt",e)}},[]);let d=async()=>{if(!e)return;e.prompt();let{outcome:s}=await e.userChoice;"accepted"===s&&(t(null),i(!1))};return o?null:(0,r.jsx)(r.Fragment,{children:s&&(0,r.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-auto",children:(0,r.jsx)("div",{className:"bg-white shadow-lg rounded-lg p-4 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Installer AFRIKA PHARMA"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Acc\xe9dez plus rapidement \xe0 l'application"})]}),(0,r.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,r.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>i(!1),children:"Plus tard"}),(0,r.jsx)(n.$,{size:"sm",onClick:d,children:"Installer"})]})]})})})})}},7566:(e,t,s)=>{"use strict";s.d(t,{S:()=>n});var r=s(2108),a=s(2115);function n(){var e;let{data:t}=(0,r.useSession)();return(0,a.useCallback)(()=>{var e;if(!(null==t||null==(e=t.user)?void 0:e.role))return void(0,r.signOut)({callbackUrl:"/"});let s="admin"===t.user.role?"/login-admin":"/login-seller";(0,r.signOut)({callbackUrl:s})},[null==t||null==(e=t.user)?void 0:e.role])}},9416:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(6770),a=s.n(r),n=s(2115),i=s(5695);function o(){let e=(0,i.usePathname)(),t=(0,i.useSearchParams)();return(0,n.useEffect)(()=>(a().configure({showSpinner:!1}),a().start(),a().done(),()=>{a().remove()}),[e,t]),null}},9434:(e,t,s)=>{"use strict";s.d(t,{M_:()=>o,cn:()=>n,vv:()=>i});var r=s(2596),a=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CDF",s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=new Intl.NumberFormat("fr-CD",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);if("CDF"===t)return"".concat(r).concat(s?" CDF":"");if("USD"===t){let t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return"".concat(t).concat(s?" USD":"")}return r}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2400;return e/t}}},e=>{var t=t=>e(e.s=t);e.O(0,[3444,9039,7471,2108,8595,1071,9221,6658,8441,1684,7358],()=>t(4556)),_N_E=e.O()}]);