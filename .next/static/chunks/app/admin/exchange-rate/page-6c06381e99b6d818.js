(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9319],{28:(e,r,t)=>{Promise.resolve().then(t.bind(t,8602))},285:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var n=t(5155);t(2115);var a=t(9708),s=t(2085),l=t(9434);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:t,size:s,asChild:o=!1,...d}=e,c=o?a.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:t,size:s,className:r})),...d})}},1154:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2085:(e,r,t)=>{"use strict";t.d(r,{F:()=>l});var n=t(2596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.$,l=(e,r)=>t=>{var n;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:l,defaultVariants:i}=r,o=Object.keys(l).map(e=>{let r=null==t?void 0:t[e],n=null==i?void 0:i[e];if(null===r)return null;let s=a(r)||a(n);return l[e][s]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,n]=r;return void 0===n||(e[t]=n),e},{});return s(e,o,null==r||null==(n=r.compoundVariants)?void 0:n.reduce((e,r)=>{let{class:t,className:n,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...d}[r]):({...i,...d})[r]===t})?[...e,t,n]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},2523:(e,r,t)=>{"use strict";t.d(r,{p:()=>s});var n=t(5155);t(2115);var a=t(9434);function s(e){let{className:r,type:t,...s}=e;return(0,n.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...s})}},3109:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4477:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return n.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return a.findSourceMapURL}});let n=t(3806),a=t(1818),s=t(4979).createServerReference},5868:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6101:(e,r,t)=>{"use strict";t.d(r,{s:()=>l,t:()=>s});var n=t(2115);function a(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function s(...e){return r=>{let t=!1,n=e.map(e=>{let n=a(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():a(e[r],null)}}}}function l(...e){return n.useCallback(s(...e),e)}},6695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>o,Wu:()=>d,ZB:()=>i,Zp:()=>s,aR:()=>l});var n=t(5155);t(2115);var a=t(9434);function s(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...t})}function l(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function i(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",r),...t})}function o(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",r),...t})}function d(e){let{className:r,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",r),...t})}},8237:(e,r,t)=>{"use strict";t.d(r,{E:()=>a});var n=t(4477);let a=(0,n.createServerReference)("00478848fd4b16ead1f2ed97dee1a9f8aee3916687",n.callServer,void 0,n.findSourceMapURL,"getExchangeRate")},8500:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(9946).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},8602:(e,r,t)=>{"use strict";t.d(r,{ExchangeRateManager:()=>g});var n=t(5155),a=t(2115),s=t(8237),l=t(4477);let i=(0,l.createServerReference)("60fd4bc4e57810767a9c95e2227803694b889db0a2",l.callServer,void 0,l.findSourceMapURL,"updateExchangeRate");var o=t(285),d=t(2523),c=t(6695),u=t(1154),p=t(5868),m=t(3109),x=t(8500);let f=(0,t(9946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function g(){let[e,r]=(0,a.useState)(null),[t,l]=(0,a.useState)(""),[g,v]=(0,a.useState)(!0),[h,b]=(0,a.useState)(!1),[y,j]=(0,a.useState)(null),[N,w]=(0,a.useState)(0),[k,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{A()},[]);let A=async()=>{try{v(!0);let e=await (0,s.E)();r(e.rate),l(e.rate.toString()),e.updatedAt&&j(new Date(e.updatedAt))}catch(e){console.error("Erreur:",e),S({type:"error",text:"Impossible de charger le taux"})}finally{v(!1)}},C=async()=>{try{let e=parseFloat(t);if(!e||e<=0)return void S({type:"error",text:"Le taux doit \xeatre un nombre positif"});b(!0);let n=await i(e);n.medicationsUpdated&&(w(n.medicationsUpdated),r(e),j(new Date),S({type:"success",text:"Taux mis \xe0 jour! ".concat(n.medicationsUpdated," m\xe9dicaments recalcul\xe9s")}))}catch(e){console.error("Erreur:",e),S({type:"error",text:e.message||"Erreur lors de la mise \xe0 jour"})}finally{b(!1)}},F=e&&parseFloat(t)?parseFloat(t)-e:0,D=e&&0!==F?(F/e*100).toFixed(2):"0";return g?(0,n.jsx)(c.Zp,{children:(0,n.jsx)(c.Wu,{className:"pt-6",children:(0,n.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,n.jsx)(u.A,{className:"h-6 w-6 animate-spin"})})})}):(0,n.jsxs)(c.Zp,{className:"w-full",children:[(0,n.jsxs)(c.aR,{children:[(0,n.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,n.jsx)(p.A,{className:"h-5 w-5"}),"Taux de Change USD â†’ CDF"]}),(0,n.jsx)(c.BT,{children:"G\xe9rez le taux de change pour la conversion automatique des prix"})]}),(0,n.jsxs)(c.Wu,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border border-blue-200",children:[(0,n.jsx)("p",{className:"text-sm text-blue-600 mb-1",children:"Taux Actuel"}),(0,n.jsxs)("p",{className:"text-3xl font-bold text-blue-900",children:[null==e?void 0:e.toLocaleString()," CDF"]}),(0,n.jsx)("p",{className:"text-xs text-blue-500 mt-2",children:"1 USD"})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border border-green-200",children:[(0,n.jsx)("p",{className:"text-sm text-green-600 mb-1",children:"M\xe9dicaments Affect\xe9s"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-green-900",children:N}),(0,n.jsx)("p",{className:"text-xs text-green-500 mt-2",children:"Convertis avec ce taux"})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border border-purple-200",children:[(0,n.jsx)("p",{className:"text-sm text-purple-600 mb-1",children:"Derni\xe8re Mise \xe0 Jour"}),(0,n.jsx)("p",{className:"text-sm font-mono text-purple-900",children:null==y?void 0:y.toLocaleDateString("fr-FR")}),(0,n.jsx)("p",{className:"text-xs text-purple-500 mt-2",children:null==y?void 0:y.toLocaleTimeString("fr-FR")})]})]}),(0,n.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"newRate",className:"block text-sm font-medium mb-2",children:"Nouveau Taux (CDF/USD)"}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(d.p,{id:"newRate",type:"number",step:"0.01",value:t,onChange:e=>l(e.target.value),placeholder:"Entrez le nouveau taux",disabled:h,className:"flex-1"}),(0,n.jsxs)(o.$,{onClick:C,disabled:h||!t,className:"bg-blue-600 hover:bg-blue-700",children:[h?(0,n.jsx)(u.A,{className:"h-4 w-4 animate-spin mr-2"}):null,"Mettre \xe0 Jour"]})]})]}),0!==F&&(0,n.jsx)("div",{className:"flex items-center gap-2 text-sm",children:F>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.A,{className:"h-4 w-4 text-green-600"}),(0,n.jsxs)("span",{className:"text-green-600",children:["+",F.toFixed(2)," CDF (",D,"%)"]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.A,{className:"h-4 w-4 text-red-600"}),(0,n.jsxs)("span",{className:"text-red-600",children:[F.toFixed(2)," CDF (",D,"%)"]})]})})]}),k&&(0,n.jsx)("div",{className:"success"===k.type?"bg-green-50 border border-green-200 p-4 rounded-lg":"bg-red-50 border border-red-200 p-4 rounded-lg",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(f,{className:"success"===k.type?"h-4 w-4 text-green-600":"h-4 w-4 text-red-600"}),(0,n.jsx)("p",{className:"success"===k.type?"text-green-800":"text-red-800",children:k.text})]})}),(0,n.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,n.jsxs)("p",{className:"text-sm text-blue-900",children:[(0,n.jsx)("strong",{children:"Info:"})," Quand vous mettez \xe0 jour le taux, tous les prix en CDF des produits seront recalcul\xe9s automatiquement en fonction de leurs prix USD de r\xe9f\xe9rence."]})})]})]})}},9434:(e,r,t)=>{"use strict";t.d(r,{M_:()=>i,cn:()=>s,vv:()=>l});var n=t(2596),a=t(9688);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,n.$)(r))}function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CDF",t=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=new Intl.NumberFormat("fr-CD",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e);if("CDF"===r)return"".concat(n).concat(t?" CDF":"");if("USD"===r){let r=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return"".concat(r).concat(t?" USD":"")}return n}function i(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2400;return e/r}},9708:(e,r,t)=>{"use strict";t.d(r,{DX:()=>i,TL:()=>l});var n=t(2115),a=t(6101),s=t(5155);function l(e){let r=function(e){let r=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){var l;let e,i,o=(l=t,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,r){let t={...r};for(let n in r){let a=e[n],s=r[n];/^on[A-Z]/.test(n)?a&&s?t[n]=(...e)=>{let r=s(...e);return a(...e),r}:a&&(t[n]=a):"style"===n?t[n]={...a,...s}:"className"===n&&(t[n]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==n.Fragment&&(d.ref=r?(0,a.t)(r,o):o),n.cloneElement(t,d)}return n.Children.count(t)>1?n.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}(e),t=n.forwardRef((e,t)=>{let{children:a,...l}=e,i=n.Children.toArray(a),o=i.find(d);if(o){let e=o.props.children,a=i.map(r=>r!==o?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...l,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,s.jsx)(r,{...l,ref:t,children:a})});return t.displayName=`${e}.Slot`,t}var i=l("Slot"),o=Symbol("radix.slottable");function d(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var n=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),l=e=>{let r=s(e);return r.charAt(0).toUpperCase()+r.slice(1)},i=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},o=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,n.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:p,...m}=e;return(0,n.createElement)("svg",{ref:r,...d,width:a,height:a,stroke:t,strokeWidth:l?24*Number(s)/Number(a):s,className:i("lucide",c),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...p.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,n.forwardRef)((t,s)=>{let{className:o,...d}=t;return(0,n.createElement)(c,{ref:s,iconNode:r,className:i("lucide-".concat(a(l(e))),"lucide-".concat(e),o),...d})});return t.displayName=l(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[9039,8441,1684,7358],()=>r(28)),_N_E=e.O()}]);