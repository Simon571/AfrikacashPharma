(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{381:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(9946).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},386:(e,r,t)=>{Promise.resolve().then(t.bind(t,1475))},1154:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1475:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var o=t(5155),i=t(2115),n=t(5695),a=t(9509);let s={appName:"PharmaSuite",version:"1.0.0",isConfigured:!1,pharmacies:[],superAdmin:{maxPharmacies:10,allowMultiTenant:!0}},l={name:"",shortName:"",theme:{primaryColor:"#3B82F6",secondaryColor:"#10B981",backgroundColor:"#F9FAFB",textColor:"#1F2937"},contact:{address:"",phone:"",email:""},features:{inventory:!0,sales:!0,clients:!0,reports:!0,multiLocation:!1,prescriptions:!0},locale:{language:"fr",currency:"EUR",timezone:"Europe/Paris",dateFormat:"dd/MM/yyyy"},business:{taxRate:20,pharmacistLicense:"",openingHours:{monday:{open:"08:00",close:"19:00"},tuesday:{open:"08:00",close:"19:00"},wednesday:{open:"08:00",close:"19:00"},thursday:{open:"08:00",close:"19:00"},friday:{open:"08:00",close:"19:00"},saturday:{open:"08:00",close:"18:00"},sunday:{open:"09:00",close:"13:00"}}}};class c{async loadConfig(){try{try{let e=await fetch("/api/config");if(e.ok){let r=await e.json();this.config={...s,...r}}}catch(e){console.log("Impossible de charger la configuration depuis l'API")}}catch(e){console.error("Erreur lors du chargement de la configuration:",e)}}async saveConfig(e){this.config={...this.config,...e};try{if(!(await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.config)})).ok)throw Error("Erreur lors de la sauvegarde de la configuration")}catch(e){throw console.error("Erreur lors de la sauvegarde:",e),e}}getConfig(){return{...this.config}}getPharmacy(e){return this.config.pharmacies.find(r=>r.id===e)}addPharmacy(e){let r="pharmacy_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),t={...e,id:r};return this.config.pharmacies.push(t),this.config.defaultPharmacy||(this.config.defaultPharmacy=r),r}updatePharmacy(e,r){let t=this.config.pharmacies.findIndex(r=>r.id===e);return -1!==t&&(this.config.pharmacies[t]={...this.config.pharmacies[t],...r},!0)}removePharmacy(e){let r=this.config.pharmacies.findIndex(r=>r.id===e);if(-1!==r){if(this.config.pharmacies.splice(r,1),this.config.defaultPharmacy===e){var t;this.config.defaultPharmacy=null==(t=this.config.pharmacies[0])?void 0:t.id}return!0}return!1}isConfigured(){return this.config.isConfigured&&this.config.pharmacies.length>0}markAsConfigured(){this.config.isConfigured=!0}constructor(){this.configPath=a.env.CONFIG_PATH||"./config/app-config.json",this.config={...s},this.loadConfig()}}new c;var d=t(3227),p=t(9946);let u=(0,p.A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),h=(0,p.A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var x=t(381);let g=(0,p.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var m=t(9420),f=t(8883);let y=(0,p.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),b=(0,p.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),v=(0,p.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var j=t(1154),C=t(3052);let k=[{id:"basic",title:"Informations de base",description:"Nom et identit\xe9 de votre pharmacie",icon:d.A},{id:"contact",title:"Coordonn\xe9es",description:"Adresse et informations de contact",icon:u},{id:"business",title:"Configuration m\xe9tier",description:"Horaires et param\xe8tres commerciaux",icon:h},{id:"features",title:"Fonctionnalit\xe9s",description:"Modules \xe0 activer pour votre pharmacie",icon:x.A},{id:"complete",title:"Finalisation",description:"V\xe9rification et validation",icon:g}],w=()=>{let[e,r]=(0,i.useState)(0),[t,a]=(0,i.useState)({...l}),[s,c]=(0,i.useState)([]),[d,p]=(0,i.useState)(!1),h=(0,n.useRouter)(),x=Math.round(e/(k.length-1)*100),w=e=>{a(r=>({...r,...e})),c([])},S=()=>{var r,o,i,n,a,s;let l=[];switch(k[e].id){case"basic":(null==(r=t.name)?void 0:r.trim())||l.push("Le nom de la pharmacie est requis"),(null==(o=t.shortName)?void 0:o.trim())||l.push("Le nom court est requis");break;case"contact":(null==(i=t.contact.address)?void 0:i.trim())||l.push("L'adresse est requise"),(null==(n=t.contact.phone)?void 0:n.trim())||l.push("Le t\xe9l\xe9phone est requis"),(null==(a=t.contact.email)?void 0:a.includes("@"))||l.push("L'email est invalide");break;case"business":(null==(s=t.business.pharmacistLicense)?void 0:s.trim())||l.push("Le num\xe9ro de licence pharmacien est requis")}return c(l),0===l.length},z=async()=>{p(!0);try{let e=function(e){var r,t,o,i,n,a,s;let l=[];return(null==(r=e.name)?void 0:r.trim())||l.push("Le nom de la pharmacie est requis"),(null==(o=e.contact)||null==(t=o.email)?void 0:t.includes("@"))||l.push("Une adresse email valide est requise"),(null==(n=e.contact)||null==(i=n.phone)?void 0:i.trim())||l.push("Un num\xe9ro de t\xe9l\xe9phone est requis"),(null==(s=e.contact)||null==(a=s.address)?void 0:a.trim())||l.push("Une adresse est requise"),l}(t);if(e.length>0){c(e),p(!1);return}console.log("Envoi des donn\xe9es de pharmacie:",t);let r=await fetch("/api/pharmacies",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log("R\xe9ponse de l'API pharmacies:",r.status,r.statusText),!r.ok){let e=await r.text();throw console.error("Erreur API pharmacies:",e),Error("Erreur lors de la cr\xe9ation de la pharmacie: ".concat(r.status," - ").concat(e))}let o=await r.json();console.log("R\xe9sultat de la cr\xe9ation de pharmacie:",o),console.log("Mise \xe0 jour de la configuration...");let i=await fetch("/api/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isConfigured:!0,defaultPharmacy:o.pharmacyId})});if(console.log("R\xe9ponse de l'API config:",i.status,i.statusText),!i.ok){let e=await i.text();throw console.error("Erreur API config:",e),Error("Erreur lors de la mise \xe0 jour de la configuration: ".concat(i.status," - ").concat(e))}h.push("/dashboard")}catch(r){console.error("Erreur lors de la configuration:",r);let e="Erreur lors de la configuration. Veuillez r\xe9essayer.";r instanceof Error&&(e=r.message.includes("Failed to fetch")?"Impossible de contacter le serveur. V\xe9rifiez que l'application est bien d\xe9marr\xe9e.":r.message),c([e])}finally{p(!1)}};return(0,o.jsxs)("div",{style:{minHeight:"100vh",overflow:"hidden",backgroundColor:"#000"},children:[(0,o.jsx)("div",{style:{position:"fixed",inset:0,zIndex:-10,background:"linear-gradient(to bottom, #0f172a 0%, #0f172a 50%, #000 100%)"}}),(0,o.jsx)("div",{style:{background:"linear-gradient(to right, rgba(16,185,129,0.2), rgba(20,184,166,0.2))",borderBottom:"1px solid rgba(16,185,129,0.3)"},children:(0,o.jsxs)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"32px 16px"},children:[(0,o.jsx)("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#e2e8f0"},children:"Configuration initiale"}),(0,o.jsx)("p",{style:{marginTop:"8px",color:"#cbd5e1"},children:"Configurez votre pharmacie en quelques \xe9tapes simples"}),(0,o.jsx)("div",{style:{marginTop:"16px",height:"8px",width:"100%",backgroundColor:"rgba(74,222,128,0.2)",borderRadius:"9999px",overflow:"hidden"},children:(0,o.jsx)("div",{style:{height:"8px",backgroundColor:"#4ade80",borderRadius:"9999px",transition:"all 0.3s ease",width:"".concat(x,"%")}})}),(0,o.jsxs)("p",{style:{marginTop:"8px",fontSize:"12px",color:"#94a3b8"},children:[x,"% compl\xe9t\xe9"]})]})}),(0,o.jsx)("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"32px 16px"},children:(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"32px"},children:[(0,o.jsx)("aside",{children:(0,o.jsxs)("div",{style:{background:"linear-gradient(to br, rgba(30,41,59,0.8), rgba(15,23,42,0.8))",border:"1px solid #334155",borderRadius:"16px",padding:"24px",position:"sticky",top:"24px"},children:[(0,o.jsx)("h3",{style:{fontSize:"14px",fontWeight:600,color:"#e2e8f0"},children:"\xc9tapes"}),(0,o.jsx)("div",{style:{marginTop:"16px",display:"flex",flexDirection:"column",gap:"16px"},children:k.map((r,t)=>{let i=r.icon,n=t===e,a=t<e;return(0,o.jsxs)("div",{style:{display:"flex",gap:"12px",padding:"12px",borderRadius:"8px",border:n?"1px solid rgba(74,222,128,0.5)":a?"1px solid #10b981":"1px solid #334155",backgroundColor:n?"rgba(74,222,128,0.1)":a?"rgba(16,185,129,0.1)":"transparent",transition:"all 0.3s"},children:[(0,o.jsx)("div",{style:{marginTop:"4px",display:"flex",height:"32px",width:"32px",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:n||a?"#10b981":"#334155",color:n||a?"white":"#94a3b8"},children:(0,o.jsx)(i,{className:"h-4 w-4"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontSize:"14px",fontWeight:500,color:n?"#4ade80":"#e2e8f0"},children:r.title}),(0,o.jsx)("p",{style:{fontSize:"12px",color:"#94a3b8"},children:r.description})]})]},r.id)})})]})}),(0,o.jsx)("section",{children:(0,o.jsxs)("div",{style:{background:"linear-gradient(to br, rgba(30,41,59,0.8), rgba(15,23,42,0.8))",border:"1px solid #334155",borderRadius:"16px",overflow:"hidden"},children:[(0,o.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #334155",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{style:{fontSize:"18px",fontWeight:600,color:"#e2e8f0"},children:k[e].title}),(0,o.jsx)("p",{style:{fontSize:"14px",color:"#94a3b8"},children:k[e].description})]}),e>0&&(0,o.jsxs)("span",{style:{fontSize:"12px",color:"#64748b"},children:["\xc9tape ",e+1," / ",k.length]})]}),(0,o.jsxs)("div",{style:{padding:"24px"},children:[s.length>0&&(0,o.jsxs)("div",{style:{marginBottom:"24px",display:"flex",gap:"12px",borderRadius:"8px",border:"1px solid rgba(239,68,68,0.5)",backgroundColor:"rgba(239,68,68,0.1)",padding:"16px"},children:[(0,o.jsx)(b,{className:"h-5 w-5",style:{color:"#ef4444",marginTop:"2px"}}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontSize:"14px",fontWeight:500,color:"#fca5a5"},children:"Veuillez corriger les \xe9l\xe9ments suivants :"}),(0,o.jsx)("ul",{style:{marginTop:"8px",paddingLeft:"16px",fontSize:"14px",color:"#fca5a5",display:"flex",flexDirection:"column",gap:"4px"},children:s.map((e,r)=>(0,o.jsxs)("li",{children:["• ",e]},r))})]})]}),(()=>{switch(k[e].id){case"basic":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:"Nom de la pharmacie *"}),(0,o.jsx)("input",{type:"text",value:t.name,onChange:e=>w({name:e.target.value}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"Ex: Pharmacie Centrale"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:"Nom court (pour l'affichage) *"}),(0,o.jsx)("input",{type:"text",value:t.shortName,onChange:e=>w({shortName:e.target.value}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"Ex: Centrale"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:"Couleur principale du th\xe8me"}),(0,o.jsx)("input",{type:"color",value:t.theme.primaryColor,onChange:e=>w({theme:{...t.theme,primaryColor:e.target.value}}),style:{width:"80px",height:"40px",border:"1px solid #334155",borderRadius:"8px",cursor:"pointer"}})]})]});case"contact":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:[(0,o.jsx)(u,{className:"inline w-4 h-4 mr-1",style:{color:"#4ade80"}}),"Adresse compl\xe8te *"]}),(0,o.jsx)("textarea",{value:t.contact.address,onChange:e=>w({contact:{...t.contact,address:e.target.value}}),rows:3,style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",fontFamily:"inherit",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"Adresse compl\xe8te de la pharmacie"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:[(0,o.jsx)(m.A,{className:"inline w-4 h-4 mr-1",style:{color:"#4ade80"}}),"T\xe9l\xe9phone *"]}),(0,o.jsx)("input",{type:"tel",value:t.contact.phone,onChange:e=>w({contact:{...t.contact,phone:e.target.value}}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"Ex: +33 1 23 45 67 89"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:[(0,o.jsx)(f.A,{className:"inline w-4 h-4 mr-1",style:{color:"#4ade80"}}),"Email *"]}),(0,o.jsx)("input",{type:"email",value:t.contact.email,onChange:e=>w({contact:{...t.contact,email:e.target.value}}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"contact@pharmacie.fr"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px",display:"block"},children:"Site web (optionnel)"}),(0,o.jsx)("input",{type:"url",value:t.contact.website||"",onChange:e=>w({contact:{...t.contact,website:e.target.value}}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"https://www.pharmacie.fr"})]})]});case"business":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:"Num\xe9ro de licence pharmacien *"}),(0,o.jsx)("input",{type:"text",value:t.business.pharmacistLicense,onChange:e=>w({business:{...t.business,pharmacistLicense:e.target.value}}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155",placeholder:"Num\xe9ro de licence"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:[(0,o.jsx)(y,{className:"inline w-4 h-4 mr-1",style:{color:"#4ade80"}}),"Taux de TVA (%)"]}),(0,o.jsx)("input",{type:"number",min:"0",max:"50",step:"0.1",value:t.business.taxRate,onChange:e=>w({business:{...t.business,taxRate:parseFloat(e.target.value)||0}}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},onFocus:e=>e.currentTarget.style.borderColor="#4ade80",onBlur:e=>e.currentTarget.style.borderColor="#334155"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:500,color:"#e2e8f0",marginBottom:"8px"},children:"Devise"}),(0,o.jsxs)("select",{value:t.locale.currency,onChange:e=>w({locale:{...t.locale,currency:e.target.value}}),style:{width:"100%",padding:"10px 12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.8)",color:"#e2e8f0",fontSize:"14px",outline:"none",transition:"all 0.3s"},children:[(0,o.jsx)("option",{value:"EUR",children:"Euro (EUR)"}),(0,o.jsx)("option",{value:"USD",children:"Dollar US (USD)"}),(0,o.jsx)("option",{value:"GBP",children:"Livre Sterling (GBP)"}),(0,o.jsx)("option",{value:"CHF",children:"Franc Suisse (CHF)"}),(0,o.jsx)("option",{value:"CDF",children:"Franc Congolais (CDF)"})]})]})]});case"features":return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{color:"#cbd5e1",marginBottom:"16px"},children:"S\xe9lectionnez les fonctionnalit\xe9s que vous souhaitez activer :"}),(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:Object.entries({inventory:"Gestion des stocks",sales:"Gestion des ventes",clients:"Gestion des clients",reports:"Rapports et statistiques",prescriptions:"Gestion des ordonnances",multiLocation:"Multi-emplacements"}).map(e=>{let[r,i]=e;return(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",border:"1px solid #334155",borderRadius:"8px",backgroundColor:"rgba(15,23,42,0.5)",cursor:"pointer",transition:"all 0.3s"},onMouseEnter:e=>e.currentTarget.style.borderColor="rgba(74,222,128,0.5)",onMouseLeave:e=>e.currentTarget.style.borderColor="#334155",children:[(0,o.jsx)("input",{type:"checkbox",checked:t.features[r],onChange:e=>w({features:{...t.features,[r]:e.target.checked}}),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:"#4ade80"}}),(0,o.jsx)("span",{style:{color:"#e2e8f0"},children:i})]},r)})})]});case"complete":return(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)(g,{className:"w-16 h-16",style:{color:"#10b981",margin:"0 auto 16px",display:"block"}}),(0,o.jsx)("h3",{style:{fontSize:"18px",fontWeight:600,color:"#e2e8f0",marginBottom:"8px"},children:"Configuration termin\xe9e !"}),(0,o.jsxs)("p",{style:{color:"#cbd5e1"},children:['Votre pharmacie "',t.name,'" est pr\xeate \xe0 \xeatre utilis\xe9e.']})]}),(0,o.jsxs)("div",{style:{backgroundColor:"rgba(74,222,128,0.1)",border:"1px solid rgba(74,222,128,0.3)",padding:"16px",borderRadius:"8px"},children:[(0,o.jsx)("h4",{style:{fontWeight:600,color:"#e2e8f0",marginBottom:"8px"},children:"R\xe9sum\xe9 de votre configuration :"}),(0,o.jsxs)("ul",{style:{fontSize:"14px",color:"#cbd5e1",display:"flex",flexDirection:"column",gap:"4px"},children:[(0,o.jsxs)("li",{children:["• Nom : ",t.name]}),(0,o.jsxs)("li",{children:["• Adresse : ",t.contact.address]}),(0,o.jsxs)("li",{children:["• Email : ",t.contact.email]}),(0,o.jsxs)("li",{children:["• Fonctionnalit\xe9s activ\xe9es : ",Object.entries(t.features).filter(e=>{let[r,t]=e;return t}).length]})]})]})]});default:return null}})()]}),(0,o.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #334155",backgroundColor:"rgba(15,23,42,0.5)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,o.jsxs)("button",{onClick:()=>{e>0&&r(e-1)},disabled:0===e||d,style:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"8px",padding:"10px 16px",fontSize:"14px",fontWeight:500,transition:"all 0.3s",backgroundColor:0===e||d?"#334155":"transparent",color:0===e||d?"#64748b":"#e2e8f0",border:0===e||d?"none":"1px solid #475569",cursor:0===e||d?"not-allowed":"pointer"},children:[(0,o.jsx)(v,{className:"h-4 w-4"}),"Pr\xe9c\xe9dent"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[e===k.length-1&&(0,o.jsx)("button",{onClick:async()=>{try{await fetch("/api/auth/signout",{method:"POST"}),h.push("/login")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e)}},style:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:600,color:"#e2e8f0",border:"1px solid #475569",backgroundColor:"transparent",transition:"all 0.3s",cursor:"pointer"},children:"Se d\xe9connecter"}),e===k.length-1?(0,o.jsxs)("button",{onClick:z,disabled:d,style:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:600,color:"white",transition:"all 0.3s",background:"linear-gradient(to right, #059669, #0d9488)",cursor:d?"not-allowed":"pointer",opacity:d?.7:1},children:[d&&(0,o.jsx)(j.A,{className:"h-4 w-4",style:{animation:"spin 1s linear infinite"}}),d?"Configuration…":"Terminer la configuration"]}):(0,o.jsxs)("button",{onClick:()=>{S()&&e<k.length-1&&r(e+1)},disabled:d,style:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:600,color:"white",background:"linear-gradient(to right, #059669, #0d9488)",transition:"all 0.3s",cursor:d?"not-allowed":"pointer",opacity:d?.7:1},children:["Suivant",(0,o.jsx)(C.A,{className:"h-4 w-4"})]})]})]})]})})]})}),(0,o.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}},3052:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3227:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(9946).A)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},5695:(e,r,t)=>{"use strict";var o=t(8999);t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}}),t.o(o,"useSearchParams")&&t.d(r,{useSearchParams:function(){return o.useSearchParams}})},8883:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9420:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});let o=(0,t(9946).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>p});var o=t(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),a=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},l=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,o.forwardRef)((e,r)=>{let{color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:d="",children:p,iconNode:u,...h}=e;return(0,o.createElement)("svg",{ref:r,...c,width:i,height:i,stroke:t,strokeWidth:a?24*Number(n)/Number(i):n,className:s("lucide",d),...!p&&!l(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[r,t]=e;return(0,o.createElement)(r,t)}),...Array.isArray(p)?p:[p]])}),p=(e,r)=>{let t=(0,o.forwardRef)((t,n)=>{let{className:l,...c}=t;return(0,o.createElement)(d,{ref:n,iconNode:r,className:s("lucide-".concat(i(a(e))),"lucide-".concat(e),l),...c})});return t.displayName=a(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[8441,1684,7358],()=>r(386)),_N_E=e.O()}]);