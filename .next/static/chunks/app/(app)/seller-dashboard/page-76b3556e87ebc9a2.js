(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5610],{892:(e,s,t)=>{Promise.resolve().then(t.bind(t,2836))},2085:(e,s,t)=>{"use strict";t.d(s,{F:()=>n});var l=t(2596);let r=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=l.$,n=(e,s)=>t=>{var l;if((null==s?void 0:s.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:i}=s,c=Object.keys(n).map(e=>{let s=null==t?void 0:t[e],l=null==i?void 0:i[e];if(null===s)return null;let a=r(s)||r(l);return n[e][a]}),o=t&&Object.entries(t).reduce((e,s)=>{let[t,l]=s;return void 0===l||(e[t]=l),e},{});return a(e,c,null==s||null==(l=s.compoundVariants)?void 0:l.reduce((e,s)=>{let{class:t,className:l,...r}=s;return Object.entries(r).every(e=>{let[s,t]=e;return Array.isArray(t)?t.includes({...i,...o}[s]):({...i,...o})[s]===t})?[...e,t,l]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},2836:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var l=t(5155),r=t(2115),a=t(2108),n=t(6695),i=t(285),c=t(9434),o=t(3904),d=t(5868),u=t(6308),m=t(7809),x=t(2713),h=t(6874),p=t.n(h),f=t(162);function y(){var e;let{data:s}=(0,a.useSession)(),[t,h]=(0,r.useState)({totalSales:0,transactionCount:0}),[y,v]=(0,r.useState)(!1),j=async()=>{v(!0);try{let e=await fetch("/api/daily-report",{cache:"no-store"});if(e.ok){let s=await e.json();h({totalSales:s.todaySales.totalRevenue||0,transactionCount:s.todaySales.count||0})}}catch(e){console.error("Error fetching daily summary:",e)}finally{v(!1)}};(0,r.useEffect)(()=>{s&&j()},[s]),(0,r.useEffect)(()=>{let e=()=>{!document.hidden&&s&&j()};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[s]);let g=(null==s||null==(e=s.user)?void 0:e.name)||"seller",N=new Date().toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)(f.default,{userRole:"seller"}),(0,l.jsxs)("div",{className:"p-3 sm:p-4 lg:p-6 space-y-4 sm:space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:["Bonjour, ",g,"!"]}),(0,l.jsxs)("p",{className:"text-sm sm:text-base text-gray-600",children:["Voici votre r\xe9sum\xe9 pour aujourd'hui, ",N,"."]})]}),(0,l.jsxs)(i.$,{onClick:j,disabled:y,variant:"outline",size:"sm",className:"flex items-center gap-2 w-full sm:w-auto",children:[(0,l.jsx)(o.A,{className:"h-4 w-4 ".concat(y?"animate-spin":"")}),"Actualiser"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[(0,l.jsxs)(n.Zp,{className:"bg-blue-500 text-white",children:[(0,l.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(n.ZB,{className:"text-base sm:text-lg font-medium",children:"Ventes du Jour"}),(0,l.jsx)(d.A,{className:"h-5 w-5 sm:h-6 sm:w-6"})]}),(0,l.jsx)(n.Wu,{children:(0,l.jsx)("div",{className:"text-2xl sm:text-3xl font-bold",children:(0,c.vv)(t.totalSales)})})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(n.ZB,{className:"text-base sm:text-lg font-medium text-gray-700",children:"Transactions"}),(0,l.jsx)(u.A,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"})]}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:t.transactionCount}),(0,l.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mt-1",children:"ventes r\xe9alis\xe9es aujourd'hui"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Actions Rapides"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[(0,l.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer border-2 hover:border-blue-300",children:(0,l.jsx)(n.Wu,{className:"p-4 sm:p-6",children:(0,l.jsx)(p(),{href:"/ventes",className:"block",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,l.jsx)("div",{className:"p-3 sm:p-4 bg-blue-100 rounded-lg flex-shrink-0",children:(0,l.jsx)(m.A,{className:"h-8 w-8 sm:h-10 sm:w-10 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Nouvelle Vente"}),(0,l.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Acc\xe9der au terminal de vente pour enregistrer de nouvelles transactions client."})]})]})})})}),(0,l.jsx)(n.Zp,{className:"hover:shadow-md transition-shadow cursor-pointer border-2 hover:border-green-300",children:(0,l.jsx)(n.Wu,{className:"p-4 sm:p-6",children:(0,l.jsx)(p(),{href:"/daily-report",className:"block",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,l.jsx)("div",{className:"p-3 sm:p-4 bg-green-100 rounded-lg flex-shrink-0",children:(0,l.jsx)(x.A,{className:"h-8 w-8 sm:h-10 sm:w-10 text-green-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Mon Rapport"}),(0,l.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"Consulter vos ventes et ajouter des d\xe9penses pour le rapport journalier."})]})]})})})})]})]})]})]})}},3904:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4783:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},5868:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6101:(e,s,t)=>{"use strict";t.d(s,{s:()=>n,t:()=>a});var l=t(2115);function r(e,s){if("function"==typeof e)return e(s);null!=e&&(e.current=s)}function a(...e){return s=>{let t=!1,l=e.map(e=>{let l=r(e,s);return t||"function"!=typeof l||(t=!0),l});if(t)return()=>{for(let s=0;s<l.length;s++){let t=l[s];"function"==typeof t?t():r(e[s],null)}}}}function n(...e){return l.useCallback(a(...e),e)}},6474:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7863:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9708:(e,s,t)=>{"use strict";t.d(s,{DX:()=>i,TL:()=>n});var l=t(2115),r=t(6101),a=t(5155);function n(e){let s=function(e){let s=l.forwardRef((e,s)=>{let{children:t,...a}=e;if(l.isValidElement(t)){var n;let e,i,c=(n=t,(i=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(i=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref),o=function(e,s){let t={...s};for(let l in s){let r=e[l],a=s[l];/^on[A-Z]/.test(l)?r&&a?t[l]=(...e)=>{let s=a(...e);return r(...e),s}:r&&(t[l]=r):"style"===l?t[l]={...r,...a}:"className"===l&&(t[l]=[r,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props);return t.type!==l.Fragment&&(o.ref=s?(0,r.t)(s,c):c),l.cloneElement(t,o)}return l.Children.count(t)>1?l.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}(e),t=l.forwardRef((e,t)=>{let{children:r,...n}=e,i=l.Children.toArray(r),c=i.find(o);if(c){let e=c.props.children,r=i.map(s=>s!==c?s:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,a.jsx)(s,{...n,ref:t,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,a.jsx)(s,{...n,ref:t,children:r})});return t.displayName=`${e}.Slot`,t}var i=n("Slot"),c=Symbol("radix.slottable");function o(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}}},e=>{var s=s=>e(e.s=s);e.O(0,[9039,2108,8595,1071,9221,7456,8441,1684,7358],()=>s(892)),_N_E=e.O()}]);